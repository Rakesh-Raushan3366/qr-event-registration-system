<!DOCTYPE html>
<html lang="hi">
<!-- {% load static %} -->

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="shortcut icon" href="{% static 'register_samautkarsh/assets/img/Samutkarsh_logo.png' %}"
      type="image/x-icon" />
   <title>पंजीकरण फॉर्म</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
   <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Arya:wght@400;700&family=Caudex:ital,wght@0,400;0,700;1,400;1,700&family=Forum&family=Hind:wght@300;400;500;600;700&family=Laila:wght@300;400;500;600;700&family=Palanquin+Dark:wght@400;500;600;700&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Yatra+One&display=swap"
      rel="stylesheet">

   <!-- SweetAlert2 CSS -->
   <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.21/dist/sweetalert2.min.css" rel="stylesheet">

   <!-- Select2 CSS -->
   <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

   <!-- Bootstrap 5 CSS (For table styling) -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

   <!-- Font Awesome CDN -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

   <style>
      body {
         margin: 0;
         padding: 0;
         overflow-x: hidden;
         display: flex;
         justify-content: center;
         align-items: center;
         min-height: 100vh;
         padding: 20px 10px;
         /* background-image: url('/static/register_samautkarsh/assets/img/bg_img.jpg'); */
         background-repeat: no-repeat;
         background-size: contain;
         background-size: 100% 100%;
         background-position: center center;
         font-family: 'Hind', sans-serif;
         background: linear-gradient(135deg, #B22222 10%, #FFA500 30%, #FF4500 50%);

      }

      .card-body {
         height: 0;
         opacity: 0;
         padding: 0;
         overflow: hidden;
         background-color: #FFF8E1;
      }

      .card-header {
         margin: 10px;
         color: rgb(235, 77, 77);
         font-weight: 700;
         background-color: #FFF8E1;
      }

      /* Style for the card header to align text and icons */
      .card-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         cursor: pointer;
         user-select: none;
         /* Prevent text selection on click */
      }

       /* Disabled state for card header */
       .card-header.disabled {
         color: rgb(239, 118, 118);; /* Grayed-out text */
         background-color: #f0f0f0; /* Gray background */
         cursor: not-allowed; /* Disabled cursor */
         opacity: 0.6; /* Reduced opacity */
         pointer-events: none; /* Prevent interactions */
      }
      .card-title{
        font-size: 16px !important;
        text-decoration: underline;
        color: #8B0000 !important;
      }

      .toggle-icon {
         font-size: 16px;
         margin-left: 8px;
      }

      #particles {
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         z-index: 0;
         opacity: 0.7;
         pointer-events: none;
      }

      .particle {
         position: absolute;
         background: rgba(255, 255, 255, 0.5);
         border-radius: 50%;
         will-change: transform;
      }

      .form-container {
         /* background: white; */
         background: rgba(255, 255, 255, 0.9);
         width: 100%;
         border-radius: 12px;
         /* box-shadow: 5px 5px 26px rgba(255, 255, 255, 0.5),
            -5px -5px 26px rgba(255, 255, 255, 0.5); */
         padding: 30px;
         max-width: 768px;
         margin: auto;
         transition: transform 0.3s ease-in-out;
      }

      .form-label {
         font-size: 16px !important;
         font-weight: 900;
         color: #333;
      }

      .required::after {
         content: "*";
         color: red;
      }

      .form-control,
      .form-select {
         font-size: 16px;
         color: #868686;
      }

      .form-select input {
         font-size: 14px;
      }

      .form-select option {
         font-size: 14px;
         color: #868686;
      }

      .form-control:focus {
         border-color: #ff9800 !important;
         box-shadow: 0px 0px 5px rgba(255, 152, 0, 0.75) !important;
      }

      .form-select:focus {
         border-color: #ff9800 !important;
         box-shadow: 0px 0px 5px rgba(255, 152, 0, 0.75) !important;
         outline: none !important;
      }

      .hidden {
         display: none;
      }

      /* Remove focus outline for both radio buttons and checkboxes */
      .form-check-input:focus {
         box-shadow: none !important;
         outline: none !important;
         border-color: transparent !important;
      }

      /* Common styling for both checkboxes and radio buttons */
      .form-check-input {
         width: 16px;
         height: 16px;
         border: 2px solid #ccc !important;
         background-color: white !important;
         transition: all 0.3s ease-in-out;
         appearance: none;
         /* Removes default styles */
         -webkit-appearance: none;
         -moz-appearance: none;
         cursor: pointer;
         position: relative;
      }

      /* Checkbox-specific styles */
      .form-check-input[type="checkbox"] {
         border-radius: 4px;
         /* Slightly rounded corners */
      }

      /* Radio button-specific styles */
      .form-check-input[type="radio"] {
         border-radius: 50%;
         /* Circular */
      }

      .form-check-input:not(:checked) {
         background-color: white !important;
         border: 2px solid #ccc !important;
      }

      /* Custom styles when checked (both checkbox and radio) */
      .form-check-input:checked {
         border-color: #ff9800 !important;
         background-color: #ff9800 !important;
      }

      /* Checkmark for checked checkbox */
      .form-check-input[type="checkbox"]:checked::before {
         content: "";
         width: 10px;
         height: 10px;
         background-color: white;
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
         /* Checkmark shape */
      }

      /* Inner dot for checked radio button */
      .form-check-input[type="radio"]:checked::before {
         content: "";
         width: 8px;
         height: 8px;
         background-color: white;
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         border-radius: 50%;
         /* Circular inner dot */
      }

      /* Modal Styles */
      .modal-content {
         background: #f8f9fa;
         /* Light gray background */
         border-radius: 8px;
         padding: 20px;
      }

      .table-striped tbody tr:nth-of-type(odd) {
         background-color: #f2f2f2;
         /* Custom alternate row color */
      }

      .table td {
         vertical-align: middle;
      }

      .modal-footer {
         background: #e9ecef;
         /* Light gray footer */
         padding: 15px;
         border-top: 1px solid #dee2e6;
      }

      .modal {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.5);
         display: flex;
         justify-content: center;
         align-items: center;
         z-index: 1000;
         padding: 10px;
         /* Adds spacing on small screens */
         box-sizing: border-box;
         /* Prevents content overflow */
      }

      .modal-content {
         background: white;
         padding: 20px;
         border-radius: 10px;
         width: 50%;
         /* Default width */
         max-height: 80vh;
         /* Prevents excessive height */
         overflow-y: auto;
         /* Enables scrolling if needed */
         margin: 5% auto;
         /* Adds top & bottom margin */
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
         transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
         .modal-content {
            width: 70%;
            /* Adjust width for tablets */
         }
      }

      @media (max-width: 768px) {
         .modal-content {
            width: 90%;
            /* Adjust width for smaller screens */
            max-height: 90vh;
            /* Increase max height */
         }
      }

      @media (max-width: 480px) {
         .modal-content {
            width: 95%;
            /* Almost full width for mobile */
            padding: 15px;
            /* Reduce padding */
         }
      }

      /* .modal-content {
         background: white;
         padding: 20px;
         border-radius: 8px;
         width: 50%;
         max-width: 600px;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      } */
      .modal-title {
         color: #8B0000;
         font-weight: bold;
         text-align: center;
         margin-bottom: 20px;
      }

      .modal-body p {
         margin: 10px 0;
         font-size: 14px;
      }

      .modal-footer {
         display: flex;
         justify-content: flex-end;
         margin-top: 20px;
      }

      .btn {
         padding: 8px 16px;
         margin-left: 10px;
         border: none;
         border-radius: 4px;
         cursor: pointer;
         font-size: 14px;
      }

      /* .btn-edit {
         background-color: #f0ad4e;
         color: white;
      }
      .btn-submit {
         background-color: #5cb85c;
         color: white;
      } */
      .close-modal {
         float: left;
         font-size: 40px;
         cursor: pointer;
      }

      .form-control,
      .form-select {
         font-size: 16px !important;
         color: #2d3748 !important;
         /* More sophisticated dark color */
         font-weight: 400 !important;
         /* Fixed font-weight value (100px was incorrect) */
         padding: 10px 15px !important;
         border: 1px solid #e2e8f0 !important;
         /* Lighter border */
         border-radius: 8px !important;
         /* Slightly rounded corners */
         background: rgba(255, 255, 255, 1);
         /* Very light background */
         transition: all 0.3s ease !important;
         /* Smooth transitions */
         box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
         /* Subtle shadow */
      }

      /* Hover state */
      .form-control:hover,
      .form-select:hover {
         border-color: #cbd5e0 !important;
         box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
      }

      /* Focus state */
      .form-control:focus,
      .form-select:focus {
         border-color: #FF9800 !important;
         /* Nice blue focus color */
         box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2) !important;
         outline: none !important;
         background-color: #ffffff !important;
      }

      /* Hide specific checkboxes by default using a class */
      .hidden-checkbox {
         display: none;
      }
   </style>
</head>

<body>
   <!-- This is Header Section -->
   <div id="particles"></div>
   <div class="form-container">
      <div class="text-center mb-5">
         <!-- Logo Image Section -->
         <div class="text-center mb-3" style="display: flex; justify-content: center; align-items: center;">
            <img src="{% static '/register_samautkarsh/assets/img/Samutkarsh_logo.png' %}" alt="RSS Delhi Prant"
               style="width: 150px; height: 150px; margin-right: 10px; border-radius: 50%; object-fit: cover;">
         </div>
         <!-- Main Image Section -->
         <!-- <img src="{% static 'register_samautkarsh/assets/img/updated_banner.jpeg' %}" alt="Registration Image"
            style="width: 100%; max-width: 800px; height: auto; display: block; margin: 0 auto; border-radius: 3%;"> -->
      </div>
      <hr style="border: none; height: 2px; background-color: #FF9800; margin: 20px 0;">
      <!-- End Header Section -->

      <form id="myForm" method="POST" action="" enctype="multipart/form-data" autofocus>
         {% csrf_token %}
         <!-- Hidden Phone Number Passing -->
         <input type="text" name="phone_number" style="display: none;" value={{phone_number}} hidden>

         <div class="row">
            <div class="col-md-12 mb-3" id="referralCode-container">
               <label for="referralCode" class="form-label"
                  style="font-size: 16px !important; font-weight: 700; color: #333;">
                  रेफरल कोड
               </label>

               <input type="text" id="referralCode" class="form-control" placeholder="रेफरल कोड (यदि कोई हो तो)"
                  name="referral_code"value="{{ form.referral_code.value|default_if_none:'' }}" maxlength="6" autofocus>
               <small id="referralCodeError" class="text-danger" style="display: none; font-size: 12px;">"Please enter
                  valid referral code."</small>
            </div>
         </div>
         <!-- <hr style="border: none; height: 2px; background-color: #FF9800; margin: 20px 0;">
            <div class="mb-3" style="margin-bottom: 16px;">
               <h4 style="text-decoration: underline; text-align: center; color: #FF9800; font-size: 24px; font-weight: bold;">
                  व्यक्तिगत जानकारी
               </h4>
            </div> -->

         <div class="card mb-3">
            <div class="card-header fw-bold " data-toggle-target="card_body_1" id="personal_tab"><span>व्यक्तिगत जानकारी
                  / Personal Information</span>
               <span class="toggle-icon">
                  <i class="fas fa-plus"></i>
               </span>
            </div>
            <div class="card-body" id="card_body_1">
               <!-- <h5 class="card-title">Warning card title</h5> -->
               <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->

            <div class="row">
                   <!-- First Name -->
            <div class="col-md-6 mb-3" id="name-container">
               <label for="name" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">नाम <i><small class="text-secondary ">(First Name) </small></i> <span class="text-danger">*</span></label>
               <input type="text" id="name" class="form-control" placeholder="example: Ramesh..." name="name"value="{{ form.name.value|default_if_none:'' }}" autofocus>
               <small id="nameError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter a valid First Name (only alphabets and spaces are allowed).</small>
            </div>

            <!-- Last Name -->
            <div class="col-md-6 mb-3" id="lastName-container">
               <label for="name" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">उप-नाम <i><small class="text-secondary ">(Last Name) </small></i> <span class="text-danger">*</span></label>
               <input type="text" id="lastName" class="form-control" placeholder="example: Patil..." name="last_name" value="{{ form.last_name.value|default_if_none:'' }}" autofocus>
               <small id="lastNameError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter a valid Last Name (only alphabets and spaces are allowed).</small>
            </div>

            <!-- जन्मतिथि -->
            <div class="col-md-6 mb-3" id="dob-container">
               <label for="dob" class="form-label " style="font-size: 16px !important; font-weight: 700; color: #333;">जन्मतिथि<span class="text-danger"> *</span></label>
               <input type="date" id="dob" name="dob" class="form-control" placeholder="example: dd/mm/yyyy" value="{{ form.dob.value|date:'Y-m-d'|default_if_none:'' }}" autofocus>
               <small id="dobError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter date of birth.</small>
            </div>

             <!-- रक्त-गट / Blood Group  -->
             <div class="col-md-6 mb-3" id="blood_group-container">
               <label for="blood_group" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">रक्त-गट <i><small class="text-secondary ">(Blood Group) </small></i> <span class="text-danger">*</span></label>
               <select id="blood_group" name="blood_group" class="form-control" autofocus>
                  <option value=""{% if not form.blood_group.value %}selected{% endif %} selected disabled>example: A+, O-</option>
                  <option value="O+" {% if form.blood_group.value == "O+" %}selected{% endif %}>O+</option>
                  <option value="O-"{% if form.blood_group.value == "O-" %}selected{% endif %}>O-</option>
                  <option value="A+" {% if form.blood_group.value == "A+" %}selected{% endif %}>A+</option>
                  <option value="A-"{% if form.blood_group.value == "A-" %}selected{% endif %}>A-</option>
                  <option value="B+" {% if form.blood_group.value == "B+" %}selected{% endif %}>B+</option>
                  <option value="B-"{% if form.blood_group.value == "B-" %}selected{% endif %}>B-</option>
                  <option value="AB+"{% if form.blood_group.value == "AB+" %}selected{% endif %}>AB+</option>
                  <option value="AB-"{% if form.blood_group.value == "AB-" %}selected{% endif %}>AB-</option>
                  <option value="जानकारी नहीं है" {% if form.blood_group.value == "जानकारी नहीं है" %}selected{% endif %}>जानकारी नहीं है</option>
               </select>
               <small id="blood_groupError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter blood group.</small>
            </div>

            <!-- श्रेणी (Profession) -->
            <div class="col-md-6 mb-3" id="profession-container">
               <label for="profession" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">श्रेणी <span class="text-danger"> *</span></label>
               <select id="profession" name="user_type" class="form-control" autofocus>
                    <option value="" {% if not form.user_type.value %}selected{% endif %} selected disabled>exapmle: प्राध्यापक, व्यवसायी</option>
                    <option value="स्कूल-विद्यार्थी" {% if form.user_type.value == "स्कूल-विद्यार्थी" %}selected{% endif %}>स्कूल-विद्यार्थी</option>
                    <option value="कॉलेज-विद्यार्थी" {% if form.user_type.value == "कॉलेज-विद्यार्थी" %}selected{% endif %}>कॉलेज-विद्यार्थी</option>
                    <option value="अध्यापक" {% if form.user_type.value == "अध्यापक" %}selected{% endif %}>अध्यापक</option>
                    <option value="प्राध्यापक" {% if form.user_type.value == "प्राध्यापक" %}selected{% endif %}>प्राध्यापक</option>
                    <!-- <option value="कर्मचारी (सरकारी)" {% if form.user_type.value == "कर्मचारी (सरकारी)" %}selected{% endif %}>कर्मचारी (सरकारी)</option>
                    <option value="कर्मचारी (अन्य)" {% if form.user_type.value == "कर्मचारी (अन्य)" %}selected{% endif %}>कर्मचारी (अन्य)</option> -->
                    <option value="सरकारी संस्थान में कार्यरत" {% if form.user_type.value == "सरकारी संस्थान में कार्यरत" %}selected{% endif %}>सरकारी संस्थान में कार्यरत</option>
                    <option value="निजी संस्थान में कार्यरत" {% if form.user_type.value == "निजी संस्थान में कार्यरत" %}selected{% endif %}>निजी संस्थान में कार्यरत</option>
                    <option value="सामाजिक संस्थान में कार्यरत" {% if form.user_type.value == "सामाजिक संस्थान में कार्यरत" %}selected{% endif %}>सामाजिक संस्थान में कार्यरत</option>
                    <option value="व्यवसायी" {% if form.user_type.value == "व्यवसायी" %}selected{% endif %}>व्यवसायी</option>
                    <option value="उद्योगपति" {% if form.user_type.value == "उद्योगपति" %}selected{% endif %}>उद्योगपति</option>
                    <option value="प्रोफेशनल" {% if form.user_type.value == "प्रोफेशनल" %}selected{% endif %}>प्रोफेशनल</option>
                    <option value="सेवा-निवृत्त" {% if form.user_type.value == "सेवा-निवृत्त" %}selected{% endif %}>सेवा-निवृत्त</option>
                    <option value="गृहिणी" {% if form.user_type.value == "गृहिणी" %}selected{% endif %}>गृहिणी</option>
                    <option value="श्रमिक" {% if form.user_type.value == "श्रमिक" %}selected{% endif %}>श्रमिक</option>
                    <option value="कृषक (किसान)" {% if form.user_type.value == "कृषक (किसान)" %}selected{% endif %}>कृषक (किसान)</option>
                    <option value="अन्य" {% if form.user_type.value == "अन्य" %}selected{% endif %}>अन्य</option>
               </select>
               <small id="professionError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter profession.</small>
            </div>

            <!-- लैंगिक जानकारी (gender) -->
            <div class="col-md-6 mb-3" id="gender-container">
               <label class="form-label " style="font-size: 16px !important; font-weight: 700; color: #333;">लैंगिक जानकारी <span class="text-danger"> *</span></label>
               <div class="d-flex align-items-center">
                  <div class="form-check me-3">
                     <input type="radio" id="male" name="gender" value="Male" class="form-check-input"{% if form.gender.value == 'Male' %}checked{% endif %} checked>
                     <label for="male" class="form-check-label" style="font-size: 16px; font-weight: 400; color: #333;">पुरुष</label>
                  </div>

                  <div class="form-check me-3">
                     <input type="radio" id="female" name="gender" value="Female" class="form-check-input" {% if form.gender.value == 'Female' %}checked{% endif %}>
                     <label for="female" class="form-check-label" style="font-size: 16px; font-weight: 400; color: #333;">महिला</label>
                  </div>

                  <div class="form-check">
                     <input type="radio" id="otherGender" name="gender" value="other" class="form-check-input" {% if form.gender.value == 'other' %}checked{% endif %}>
                     <label for="otherGender" class="form-check-label" style="font-size: 16px; font-weight: 400; color: #333;">अन्य</label>
                  </div>
               </div>
               <small id="genderError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter gender.</small>
            </div>

            <!-- वर्तमान पता (Current Address) -->
            <div class="col-12 mb-3" id="currentAddress-container">
               <label for="currentAddress" class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">वर्तमान पता <i><small class="text-secondary ">(Current Address) </small></i> <span class="text-danger">*</span></label>
               <textarea name="corress_address" id="currentAddress" class="form-control" maxlength="255" placeholder="example: House No. 12, Gandhi Nagar, Main Road, Mumbai - 400001" rows="3" autofocus>{{ form.corress_address.value|default_if_none:'' }}</textarea>
               <small id="currentAddressError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter current address.</small>
            </div>

            <!-- स्थायी और वर्तमान पता समान है -->
            <div class="col-12 mb-3">
               <input type="checkbox" id="sameAddress" class="form-check-input"{% if form.corress_address.value == form.perman_address.value %}checked{% endif %}>
               <label for="sameAddress" style="font-size: 16px; font-weight: 700;"> वर्तमान और स्थायी पता समान है?</label>
            </div>

            <!-- स्थायी पता (Permanent Address) -->
            <div class="col-12 mb-3" id="permanentAddress-container">
               <label for="permanentAddress" class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">स्थायी पता <i><small class="text-secondary ">(Permanent Address) </small></i> <span class="text-danger">*</span></label>
               <textarea name="perman_address" id="permanentAddress" class="form-control" maxlength="255"placeholder="example: House No. 12, Gandhi Nagar, Main Road, Mumbai - 400001" rows="3">{{ form.perman_address.value|default_if_none:'' }}</textarea>
               <small id="permanentAddressError" class="text-danger"style="display: none;font-size: 12px !important;">Please enter permanent address.</small>
            </div>

            <!-- Address Pincode -->
             <div class="col-md-6 mb-3 dropdown" id="address_pincode-container">
               <label for="address_pincode" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">पिनकोड <i><small class="text-secondary ">(वर्तमान निवास का) </small></i> <span class="text-danger">*</span></label>
               <input type="number" id="address_pincode" class="form-control" placeholder="exapmle: 121107, 110001" min="0" max="999999" name="address_pincode"value="{{ form.address_pincode.value|default_if_none:'' }}" autofocus>
               <small id="address_pincodeError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter a valid 6-digit pincode.</small>
            </div>

            <!-- निवास का नगर (nagar_address){{mappings}} -->            
            <div class="col-md-6  dropdown" id="address_nagar-container" style="display: {% if form.nagar_address.value and form.nagar_address.value != 'None' %}block{% else %}none{% endif %};">
               <label for="address_nagar" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">निवास का नगर<span class="text-danger"> *</span></label>
               <select id="address_nagar" name="nagar_address" class="form-control" autofocus>
                  <option value="" disabled selected>निवास का नगर</option>
                     <!-- <option value="{{ form.nagar_address.value }}" {% if form.nagar_address.value %}selected{% endif %} >{{ form.nagar_address.value}}</option> -->
               </select>
               <small id="address_nagarError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter nagar.</small>                  
            </div>
            
            <!-- राज्य (address_state) -->
            <div class="col-md-6  dropdown" id="address_state-container" style="display: {% if form.address_state.value and form.address_state.value != 'None' %}block{% else %}none{% endif %};">
               <label for="address_state" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">राज्य<span class="text-danger"> *</span></label>
               <select id="address_state" name="address_state" class="form-control" autofocus>
                  <option value="" disabled selected>राज्य</option>
                  <!-- <option value="{{ form.address_state.value }}" {% if form.address_state.value %}selected{% endif %}>{{ form.address_state.value}}</option> -->
               </select>
               <small id="address_stateError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter state.</small>
            </div>
            <div class="col-md-12 mb-3" id="socialInterests-container">
                <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;"> समाज जीवन में किस प्रकार के क्षेत्र में आपकी रुचि है..? <span class="text-danger">*</span></label>                 
               <div class="row ms-2">
                    <div class="col-md-3 form-check" id="shiksha-container">
                        <input type="checkbox" id="shiksha" name="shiksha" value="शिक्षा" class="form-check-input">
                        <label for="shiksha" class="form-check-label" style="font-size: 16px !important;">शिक्षा</label>
                    </div>
                    <div class="col-md-3 form-check" id="aarthik-container">
                        <input type="checkbox" id="aarthik" name="aarthik" value="आर्थिक"class="form-check-input">
                        <label for="aarthik" class="form-check-label" style="font-size: 16px !important;">आर्थिक</label>
                    </div>
                    <div class="col-md-3 form-check" id="dharmik-container">
                        <input type="checkbox"id="dharmik" name="dharmik" value="धार्मिक" class="form-check-input">
                        <label for="dharmik" class="form-check-label" style="font-size: 16px !important;">धार्मिक</label>
                    </div>
                    <div class="col-md-3 form-check" id="seva-container">
                        <input type="checkbox" id="seva" name="seva" value="सेवा" class="form-check-input">
                        <label for="seva" class="form-check-label" style="font-size: 16px !important;">सेवा</label>
                    </div>
                    <div class="col-md-3 form-check" id="swasthya-container">
                        <input type="checkbox" id="swasthya" name="swasthya" value="स्वास्थ्य" class="form-check-input" >
                        <label for="swasthya" class="form-check-label" style="font-size: 16px !important;">स्वास्थ्य</label>
                    </div>
                    <div class="col-md-3 form-check" id="samajik-container">
                        <input type="checkbox" id="samajik" name="samajik" value="सामाजिक" class="form-check-input">
                        <label for="samajik" class="form-check-label" style="font-size: 16px !important;">सामाजिक</label>
                    </div>
                    <div class="col-md-3 form-check" id="sanskritik-container">
                        <input type="checkbox" id="sanskritik" name="sanskritik" value="सांस्कृतिक" class="form-check-input">
                        <label for="sanskritik" class="form-check-label" style="font-size: 16px !important;">सांस्कृतिक</label>
                    </div>
                    <div class="col-md-3 form-check" id="vaicharik-container">
                        <input type="checkbox" id="vaicharik" name="vaicharik" value="वैचारिक" class="form-check-input">
                        <label for="vaicharik" class="form-check-label" style="font-size: 16px !important;">वैचारिक</label>
                    </div>
                    <div class="col-md-3 form-check" id="suraksha-container">
                        <input type="checkbox" id="suraksha" name="suraksha" value="सुरक्षा" class="form-check-input">
                        <label for="suraksha" class="form-check-label" style="font-size: 16px !important;">सुरक्षा</label>
                    </div>
                    <div class="col-md-3 form-check" id="media-container">
                        <input type="checkbox" id="media" name="media" value="मीडिया" class="form-check-input">
                        <label for="media" class="form-check-label" style="font-size: 16px !important;">मीडिया</label>
                    </div>
                </div>
                                
                <small id="socialInterestsError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
            </div>  
            </div>
            <div class="row" id="student_details" >
                  <div class="col-12" id="educationHeading-container" style="display: {% if form.affilated_by.value %}block{% else %}none{% endif %};">
                     <h5 class="card-title text-center fw-bold">Educational Details</h5>
                  </div>
                   <!-- University Dropdown -->
                  <div class="col-md-6 mb-3" id="university-container" style="display: {% if form.affilated_by.value %}block{% else %}none{% endif %};">
                     <label for="university" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                        विश्वविद्यालय <span class="text-danger">*</span>
                     </label>
                     <select class="form-control" id="university" name="affilated_by">
                        <option value="" selected disabled>विश्वविद्यालय</option>
                     </select>
                     <small id="universityError" class="text-danger" style="display: none; font-size: 12px;">Please select an option.</small>
                  </div>

                  <!-- Hidden Text Field for 'Other' University -->
                  <div class="col-md-6 mb-3" id="otherUniversity-container" style="display: none;">
                     <label for="otherUniversity" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                        अन्य विश्वविद्यालय का नाम <span class="text-danger">*</span>
                     </label>
                     <input type="text" class="form-control" id="otherUniversity" name="otherUniversity" placeholder="विश्वविद्यालय का नाम दर्ज करें">
                     <small id="otherUniversityError" class="text-danger" style="display: none; font-size: 12px;">Please enter university.</small>
                  </div>


                  <!-- Institute Name -->
                  <div class="col-md-6 mb-3" id="institute-container"style="display: {% if form.institute_name.value %}block{% else %}none{% endif %};">
                     <label for="institute" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                        संस्थान<span class="text-danger"> *</span>
                     </label>
                     <select class="form-control" id="institute" name="institute_name">
                        <option value="" selected disabled>संस्थान</option>
                     </select>
                     <small id="instituteError" class="text-danger" style="display: none; font-size: 12px;">कृपया संस्थान का नाम दर्ज करें</small>
                  </div>
                  

                  <!-- Course Dropdown -->
                  <div class="col-md-6 mb-3" id="course-container"style="display: {% if form.category_name.value %}block{% else %}none{% endif %};">
                     <label for="course" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                        कोर्स <span class="text-danger">*</span>
                     </label>
                     <select class="form-control" id="course" name="category_name">
                        <option value="" selected disabled>कोर्स</option>
                     </select>
                     <small id="courseError" class="text-danger" style="display: none; font-size: 12px;">कृपया कोर्स चुनें</small>
                  </div>

                  <!-- Stream Dropdown (Initially Hidden) -->
                  <div class="col-md-6 mb-3" id="stream-container"style="display: {% if form.course_name.value %}block{% else %}none{% endif %};">
                     <label for="stream" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                        स्ट्रीम <span class="text-danger">*</span>
                     </label>
                     <select class="form-control" id="stream" name="course_name">
                        <option value="" selected disabled>स्ट्रीम</option>
                        <!-- Options will be dynamically populated -->
                     </select>
                     <small id="streamError" class="text-danger" style="display: none; font-size: 12px;">कृपया स्ट्रीम चुनें</small>
                  </div>
            </div> 
            <div class="row"id="professionals_details" >
                <div class="col-12" id="professionHeading-container" style="display: {% if form.profession_type.value %}block{% else %}none{% endif %};">
                    <h5 class="card-title text-center fw-bold ">Professional Details</h5>
                </div>
                <!-- Professionals Details Name -->
                <div class="col-md-6 mb-3" id="professionals_name-container" style="display: {% if form.profession_type.value %}block{% else %}none{% endif %};">
                    <label for="professionals_name" class="form-label" style="font-size: 16px; font-weight: 700; color: #333;">
                    व्यावसायिक<span class="text-danger"> *</span>
                    </label>
                    <select class="form-control" id="professionals_name" name="profession_type">
                    <option value="" selected disabled>व्यावसायिक</option>
                    <option value="Professionals">Professionals</option>
                    <option value="Industrialists">Industrialists</option>
                    <option value="Businesses">Businesses</option>
                    </select>
                    <small id="professionals_nameError" class="text-danger" style="display: none; font-size: 12px;">Please select an option.</small>
                </div>

                <div class="col-md-6 mb-3 dropdown" id="sub_category_type-container"style="display: {% if form.profession_subtype.value %}block{% else %}none{% endif %};">
                    <label for ="sub_category_type" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">उप-श्रेणी का प्रकार <span class="text-danger">*</span></label>
                    <select id="sub_category_type" class="form-control" name="profession_subtype" autofocus>
                    <option value="" disabled selected>उप-श्रेणी चुनें</option>
                    </select>
                    <small id="sub_category_typeError" class="text-danger" style="display: none;font-size: 12px !important;">कृपया उप-श्रेणी का प्रकार चुनें</small>
                </div>
            </div> 
            <div class="d-flex flex-column flex-md-row justify-content-end align-items-center gap-3 py-3">
                <!-- Next Button -->
                <a href=""class="btn next-btn btn-outline-danger fw-bold btn-lg px-4 py-2 rounded-pill shadow-sm" style="transition: all 0.3s ease;">
                   <i class="fas fa-arrow-right me-2"></i> Next
                </a>
             </div>
            <div id="card_body_1Error" class="alert alert-danger mb-3" style="display: none; font-size: 14px;margin: 10px;">
               Please complete all required fields in this section
           </div>
         </div>
         </div>


         <div class="card mb-3">
            <div class="card-header disabled "data-toggle-target="card_body_2" id="sangh_part1_tab"><span>संघ संबंधी जानकारी भाग - 1</span>
               <span class="toggle-icon">
                  <i class="fas fa-plus"></i>
               </span>
            </div>
            <div class="card-body" id="card_body_2">
               <!-- <h5 class="card-title">Warning card title</h5> -->
               <div class="row">

                  <!-- Checkbox for Vividh Sangathan -->
            <!-- <div class="col-md-12 mb-3">
               <input type="checkbox" id="vividhCheckbox" class="form-check-input" {% if form.vividhsangathan.value %}checked{% endif %}>
               <label for="vividhCheckbox" class="form-check-label" style="font-size: 16px !important; font-weight: 700;">यदि विविध संगठन में कोई दायित्व हैं तो</label>
            </div> -->

            <!-- विविध संगठन -->
            <div class="col-md-12 mb-3"  id="vividhCheckbox-container">
                <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">यदि विविध संगठन में कोई दायित्व हैं तो<span class="text-danger"> *</span></label>
                <div class="form-check form-check-inline">
                    <input type="radio" id="vividhCheckboxYes" name="vividhsangathan_yes_no" class="form-check-input" value="हाँ">
                    <label for="vividhCheckboxYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" id="vividhCheckboxNo" name="vividhsangathan_yes_no" class="form-check-input" value="नहीं">
                    <label for="vividhCheckboxNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                </div>
                <small id="vividhCheckboxError" class="text-danger" style="display: none;font-size: 12px !important;">Please select an option</small>
            </div>

            <!-- Vividh Sangathan Dropdown (Initially Hidden) -->
            <div class="col-md-6 mb-3" id="vividhSangathan-container" style="display: {% if form.vividhsangathan.value and form.vividhsangathan.value != 'None' %}block{% else %}none{% endif %};">
               <label for="vividhSangathan" class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">विविध संगठन<span class="text-danger"> *</span></label>   
               <select id="vividhSangathan" name="vividhsangathan" class="form-select">
                  <option value="" selected disabled>विविध संगठन </option>
               </select>
               <small id="vividhSangathanError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter vividh sangathan.</small>
            </div>

            <!-- पिनकोड (जिस प्रांत में आपका दायित्व है।) (pincode) -->
            <div class="col-md-12 mb-3 dropdown" id="pincode-container" >
               <label for="pincode" class="form-label" style="font-size: 16px !important;font-weight: 700; color: #333;">पिनकोड <i><small class="text-secondary ">(जिस प्रांत में आपका दायित्व है।) </small></i> <span class="text-danger">*</span></label>
               <input type="number" id="pincode" class="form-control" placeholder="exapmle: 121107, 110001" min="0" max="999999" name="pincode" value="{{ form.pincode.value|default_if_none:'' }}">
               <small id="pincodeError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter a valid 6-digit pincode.</small>
            </div>

            <!-- Nagar Selection -->
            <div class="col-md-6 mb-3 dropdown" id="nagar-container" style="display: {% if form.nagar.value and form.nagar.value != 'None' %}block{% else %}none{% endif %};">
               <label for="nagar" class="form-label" style="font-size: 16px !important;font-weight: 700;color: #333;">नगर<span class="text-danger"> *</span></label>
               <select id="nagar" name="nagar" class="form-control">
                  <option value="" disabled selected>नगर</option>
                     <!-- <option value="{{ form.nagar.value }}" {% if form.nagar.value %}selected{% endif %}>{{ form.nagar.value}}</option> -->
               </select>
               <small id="nagarError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter nagar.</small>
            </div>


            <!-- राज्य State Selection -->
            <div class="col-md-6 mb-3 dropdown" id="state-container" style="display: {% if form.state.value and form.state.value != 'None' %}block{% else %}none{% endif %};">
               <label for="state" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">राज्य<span class="text-danger"> *</span></label>
               <select id="state" name="state" class="form-control">
                  <option value="" disabled selected>राज्य</option>
                  <!-- <option value="{{ form.state.value }}" {% if form.state.value %}selected{% endif %}>{{ form.state.value}}</option> -->
               </select>
               <small id="stateError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter state.</small>
            </div>
             <!-- रेजिडेंशियल कॉलोनी (ब्लॉक/गली) (ekai_upbasti) -->
             <div class="col-md-6 mb-3 dropdown" id="upbasti-container" style="display: {% if form.ekai_upbasti.value and form.ekai_upbasti.value != 'None' %}block{% else %}none{% endif %};">
               <label for="upbasti" class="form-label " style="font-size: 16px !important;font-weight: 700;color: #333;">रेजिडेंशियल कॉलोनी <i><small class="text-secondary ">(ब्लॉक/गली) </small></i> <span class="text-danger">*</span></label>
               <select id="upbasti" name='ekai_upbasti' class="form-control">
                  <option value="" disabled selected>उपबस्ती</option>
                  <!-- <option value="{{ form.ekai_upbasti.value }}" {% if form.ekai_upbasti.value %}selected{% endif %}>{{ form.ekai_upbasti.value}}</option> -->
               </select>
               <small id="upbastiError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter basti.</small>
            </div>


            <!-- दायित्व की इकाई (ekai) -->
             
            <div class="col-md-6 mb-3 dropdown " id="ekai-container" style="display: {% if form.ekai.value and form.ekai.value != 'None' %}block{% else %}none{% endif %};">
               <label for="ekai" class="form-label " style="font-size: 16px !important;font-weight: 700;color: #333;">दायित्व की इकाई <span class="text-danger">*</span></label>
               <select id="ekai" name='ekai' class="form-control">
                  <option value="" disabled selected>इकाई</option>
                  <!-- <option value="{{ form.ekai.value }}" {% if form.ekai.value %}selected{% endif %}>{{ form.ekai.value}}</option> -->
               </select>
               <small id="ekaiError"  class="text-danger" style="display: none;font-size: 12px !important;">Please enter ekai.</small>
            </div>

             <!-- Dayitva Selection (Initially Hidden) -->
             <div class="col-md-6 mb-3 dropdown" id="dayitva-container" style="display: {% if form.dayitv.value and form.dayitv.value != 'None' %}block{% else %}none{% endif %};">
               <label for="dayitva" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व<span class="text-danger"> *</span></label>
               <select id="dayitva" name="dayitv" class="form-control">
                  <option value="" disabled selected>दायित्व</option>
                  <!-- <option value="{{ form.dayitv.value }}" {% if form.dayitv.value %}selected{% endif %}>{{ form.dayitv.value}}</option> -->
               </select>
               <small id="dayitvaError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter dayitva.</small>
            </div>

            <!-- दायित्व का प्रान्त (prant) (Initially Hidden)-->
            <div class="col-md-6 mb-3 dropdown" id="prant-container" style="display: {% if form.prant.value and form.prant.value != 'None' %}block{% else %}none{% endif %};">
               <label for="prant" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व का प्रान्त<span class="text-danger"> *</span></label>
               <select id="prant" name='prant' class="form-control">
                  <option value="" disabled selected>प्रांत</option>
                  <!-- <option value="{{ form.prant.value }}" {% if form.prant.value %}selected{% endif %}>{{ form.prant.value}}</option> -->
               </select>
               <small id="prantError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter prant.</small>
            </div>

            <!-- दायित्व का विभाग (vibhag) (Initially Hidden)-->
            <div class="col-md-6 mb-3 dropdown" id="vibhag-container" style="display: {% if form.vibhag.value and form.vibhag.value != 'None' %}block{% else %}none{% endif %};">
               <label for="vibhag" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व का विभाग<span class="text-danger"> *</span></label>
               <select id="vibhag" class="form-control" name="vibhag" onchange="updateJila()">
                  <option value="" disabled selected>विभाग</option>
                  <!-- <option value="{{ form.vibhag.value }}" {% if form.vibhag.value %}selected{% endif %}>{{ form.vibhag.value}}</option> -->
               </select>
               <small id="vibhagError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter vibhag.</small>
            </div>

            <!-- दायित्व का जिला (jila) -->
            <div class="col-md-6 mb-3 dropdown" id="jila-container" style="display: {% if form.jila.value and form.jila.value != 'None' %}block{% else %}none{% endif %};">
               <label for="jila" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व का जिला<span class="text-danger"> *</span></label>
               <select id="jila" class="form-control" name="jila">
                  <option value="" disabled selected>जिला</option>
                  <!-- <option value="{{ form.jila.value }}" {% if form.jila.value %}selected{% endif %}>{{ form.jila.value}}</option> -->
               </select>
               <small id="jilaError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter jila.</small>
            </div>

            <!-- दायित्व का नगर (ekai_nagar) -->
            <div class="col-md-6 mb-3 dropdown" id="ekai_nagar-container" style="display: {% if form.ekai_nagar.value and form.ekai_nagar.value != 'None' %}block{% else %}none{% endif %};">
               <label for="ekai_nagar" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व का नगर<span class="text-danger"> *</span></label>
               <select id="ekai_nagar" name='ekai_nagar' class="form-control">
                  <option value="" disabled selected>नगर</option>
                  <!-- <option value="{{ form.ekai_nagar.value }}" {% if form.ekai_nagar.value %}selected{% endif %}>{{ form.ekai_nagar.value}}</option> -->
               </select>
               <small id="ekai_nagarError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter nagar.</small>
            </div>

            <!-- दायित्व का मंडल (ekai_mandal) -->
            <div class="col-md-6 mb-3 dropdown" id="mandal-container" style="display: {% if form.ekai_mandal.value and form.ekai_mandal.value != 'None' %}block{% else %}none{% endif %};">
               <label for="mandal" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">दायित्व का मंडल<span class="text-danger"> *</span></label>
               <select id="mandal" name='ekai_mandal' class="form-control">
                  <option value="" disabled selected>मंडल</option>
                  <!-- <option value="{{ form.ekai_mandal.value }}" {% if form.ekai_mandal.value %}selected{% endif %}>{{ form.ekai_mandal.value}}</option> -->
               </select>
               <small id="mandalError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter mandal.</small>
            </div>

            <!-- दायित्व की बस्ती (basti) -->
            <div class="col-md-6 mb-3 dropdown" id="basti-container" style="display: {% if form.ekai_basti.value and form.ekai_basti.value != 'None' %}block{% else %}none{% endif %};">
               <label for="basti" class="form-label " style="font-size: 16px !important;font-weight: 700;color: #333;">दायित्व की बस्ती<span class="text-danger"> *</span></label>
               <select id="basti" name='ekai_basti' class="form-control">
                  <option value="" disabled selected>बस्ती</option>
                  <!-- <option value="{{ form.ekai_basti.value }}" {% if form.ekai_basti.value %}selected{% endif %}>{{ form.ekai_basti.value}}</option> -->
               </select>
               <small id="bastiError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter basti.</small>
            </div>

            <!-- यदि मिलन से हैं तो -->
            <!-- <div class="col-md-12 mb-3" id="sakha_milanCheckbox-container" style="display: {% if form.ekai_milaan.value %}block{% else %}none{% endif %};">
               <input type="checkbox" id="sakha_milanCheckbox" class="form-check-input" name="ekai_milaan" {% if form.ekai_milaan.value %}checked{% endif %}>
               <label for="sakha_milanCheckbox" class="form-check-label" style="font-size: 14px !important; font-weight: 700;">यदि मिलन से हैं तो</label>
            </div> -->

            <!-- Radio Milan  -->
            <div class="col-md-12 mb-3" id="sakha_milanCheckbox-container"style="display: {% if form.ekai_milaan.value %}block{% else %}none{% endif %};" >
                <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">क्या आप मिलन से जुड़े हैं?<span class="text-danger"> *</span></label>
                <div class="form-check form-check-inline">
                   <input type="radio" id="sakha_milanCheckboxYes" name="ekai_milaan" class="form-check-input" value="हाँ" >
                   <label for="sakha_milanCheckboxYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                </div>
                <div class="form-check form-check-inline">
                   <input type="radio" id="sakha_milanCheckboxNo" name="ekai_milaan" class="form-check-input" value="नहीं">
                   <label for="sakha_milanCheckboxNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                </div>
               
                <small id="sakha_milanCheckboxError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
             </div>

            <!-- शाखा / मिलन -->
            <div class="col-md-6 dropdown" id="sakha_milan-container" style="display: {% if form.ekai_sakha_milan.value or form.ekai.value %}block{% else %}none{% endif %};">
               <label for="sakha_milan" class="form-label " style="font-size: 16px !important;font-weight: 700; color: #333;">शाखा / मिलन<span class="text-danger"> *</span></label>
               <select id="sakha_milan" name='ekai_sakha_milan' class="form-control">
                  <option value="" disabled selected>शाखा / मिलन</option>    
                  <!-- <option value="{{ form.ekai_sakha_milan.value }}" {% if form.ekai_sakha_milan.value %}selected{% endif %}>{{ form.ekai_sakha_milan.value}}</option>               -->
               </select>
               <small id="sakha_milanError" class="text-danger" style="display: none;font-size: 12px !important;">Please enter sakha/milan.</small>
            </div>
               </div>
               <div class="d-flex flex-column flex-md-row justify-content-end align-items-center gap-3 py-3">
                <!-- Next Button -->
                <a href=""class="btn next-btn btn-outline-danger fw-bold btn-lg px-4 py-2 rounded-pill shadow-sm" style="transition: all 0.3s ease;">
                   <i class="fas fa-arrow-right me-2"></i> Next
                </a>
             </div>
            </div>
            <div id="card_body_2Error" class="alert alert-danger mb-3" style="display: none; font-size: 14px;margin: 10px;">
               Please complete all required fields in this section
           </div>
         </div>

         <div class="card mb-3">
            <div class="card-header disabled" data-toggle-target="card_body_3" id="sangh_part2_tab"><span>संघ संबंधी जानकारी भाग - 2</span>
               <span class="toggle-icon">
                  <i class="fas fa-plus"></i>
               </span>
            </div>
            <div class="card-body" id="card_body_3">

               <div class="row ">
                  <h5 class="card-title text-center fw-bold " >संघ शिक्षण</h5>
                  

                  <div class="col-md-6 mb-3 dropdown" id="sangh_shikshan_level-container">
                     <label for="sangh_shikshan_level" class="form-label" style="font-size: 16px !important;font-weight: 600; color: #333;">संघ शिक्षण<span class="text-danger"> *</span></label>
                     <select id="sangh_shikshan_level" name="ekai_sangh_shikshan_level" class="form-control">
                        <option value="" disabled selected>example: प्रथम वर्ष / कोई नहीं...</option>
                        <option value="कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष" {% if form.ekai_sangh_shikshan_level.value == 'कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष' %}selected{% endif %}>कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष</option>
                        <option value="कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष" {% if form.ekai_sangh_shikshan_level.value == 'कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष' %}selected{% endif %}>कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष</option>
                        <option value="संघ शिक्षा वर्ग / प्रथम वर्ष" {% if form.ekai_sangh_shikshan_level.value == 'संघ शिक्षा वर्ग / प्रथम वर्ष' %}selected{% endif %}>संघ शिक्षा वर्ग / प्रथम वर्ष</option>
                        <option value="प्राथमिक वर्ग" {% if form.ekai_sangh_shikshan_level.value == 'प्राथमिक वर्ग' %}selected{% endif %}>प्राथमिक वर्ग</option>
                        <option value="प्रारम्भिक वर्ग" {% if form.ekai_sangh_shikshan_level.value == 'प्रारम्भिक वर्ग' %}selected{% endif %}>प्रारम्भिक वर्ग</option>
                        <option value="कोई शिक्षण नहीं हुआ" {% if form.ekai_sangh_shikshan_level.value == 'कोई शिक्षण नहीं हुआ' %}selected{% endif %}>कोई शिक्षण नहीं हुआ</option>
                     </select>
                     <small id="sangh_shikshan_levelError" class="text-danger" style="display: none;font-size: 12px !important;">Please select sangh shikshan level</small>
                  </div>
                 <!-- Checkbox for Vividh Sangathan -->
                  <!-- <div class="col-md-12 mb-3" id="pratigyaCheckbox-container" style="display: {% if form.ekai_sangh_shikshan_level.value == 'प्रथम वर्ष' or form.ekai_sangh_shikshan_level.value == 'प्राथमिक वर्ष' or form.ekai_sangh_shikshan_level.value == 'प्रारंभिक वर्ष' or form.ekai_sangh_shikshan_level.value == 'कोई नहीं' %}block{% else %}none{% endif %};">
                     <input type="hidden" name="pratigya" value="false">
                     <input type="checkbox" id="pratigyaCheckbox" class="form-check-input" name="pratigya" value="true" {% if form.pratigya.value == 'true' %}checked{% endif %}>
                     <label for="pratigyaCheckbox" class="form-check-label" style="font-size: 16px !important; font-weight: 700;">आपकी प्रतिज्ञा हुई है?</label>
                  </div> -->

                  <!-- Dynamic Fields Container -->
                  <div id="shikshan-details-container" style="display: none;">
                     <!-- Fields will be dynamically inserted here -->
                  </div>

                  <!-- Radio Pratigya  -->
                  <div class="col-md-12 mb-3" id="pratigyaCheckbox-container"style="display: {% if form.ekai_sangh_shikshan_level.value == 'संघ शिक्षा वर्ग / प्रथम वर्ष' or form.ekai_sangh_shikshan_level.value == 'प्राथमिक वर्ग' or form.ekai_sangh_shikshan_level.value == 'प्रारम्भिक वर्ग' or form.ekai_sangh_shikshan_level.value == 'कोई शिक्षण नहीं हुआ' %}block{% else %}none{% endif %};" >
                    <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">आपकी प्रतिज्ञा हुई है?<span class="text-danger"> *</span></label>
                    <div class="form-check form-check-inline">
                       <input type="radio" id="pratigyaCheckboxYes" name="pratigya" class="form-check-input" value="हाँ" >
                       <label for="pratigyaCheckboxYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                    </div>
                    <div class="form-check form-check-inline">
                       <input type="radio" id="pratigyaCheckboxNo" name="pratigya" class="form-check-input" value="नहीं">
                       <label for="pratigyaCheckboxNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                    </div>
                   
                    <small id="pratigyaCheckboxError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
                 </div>

               </div>
     

               <div class="row ">
                  <h5 class="card-title text-center fw-bold ">घोष संबंधी जानकारी</h5>

                 <!-- घोष वादक है -->
                  <div class="col-md-12 mb-3" id="ghosh_vadak-container" >
                     <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">क्या आप घोष वादक हैं?</label>
                     <div class="form-check form-check-inline">
                        <input type="radio" id="ghoshVadakYes" name="ghosh_vadak" class="form-check-input" value="हाँ" >
                        <label for="ghoshVadakYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                     </div>
                     <div class="form-check form-check-inline">
                        <input type="radio" id="ghoshVadakNo" name="ghosh_vadak" class="form-check-input" value="नहीं">
                        <label for="ghoshVadakNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                     </div>
                    
                     <small id="ghoshVadakError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
                  </div>

                  <!-- यदि हाँ तो -->
                  <div id="ghoshVadakYes-container" style="display: none;">
                     <!-- वाद्य (चेक बॉक्स) -->
                     <div class="col-md-12 mb-3">
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">वाद्य</label>
                        <div class="ms-2 ms-sm-1">
                           <!-- Shankh -->
                           <div class="form-check mb-2" id="shankh-container">
                              <input type="checkbox" id="shankh" name="shankh" class="form-check-input" value="शंख">
                              <label for="shankh" class="form-check-label" style="font-size: 16px !important;">शंख</label>
                           </div>
                     
                           <!-- Shrung with Sub-Options -->
                           <div class="form-check mb-2" id="shrung-container">
                              <input type="checkbox" id="shrung" name="shrung" class="form-check-input" value="श्रृंग">
                              <label for="shrung" class="form-check-label" style="font-size: 16px !important;">श्रृंग</label>
                              <!-- Sub-Options for Shrung (Horizontal with Responsive Wrapping) -->
                              <div class="d-flex flex-row flex-wrap ms-4 ms-sm-3 mt-1">
                                 <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="turya-container">
                                    <input type="checkbox" id="turya" name="turya" class="form-check-input" value="तुर्य">
                                    <label for="turya" class="form-check-label" style="font-size: 14px !important;">तुर्य</label>
                                 </div>
                                 <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="swarad-container">
                                    <input type="checkbox" id="swarad" name="swarad" class="form-check-input" value="स्वरद">
                                    <label for="swarad" class="form-check-label" style="font-size: 14px !important;">स्वरद</label>
                                 </div>
                                 <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="nagang-container">
                                    <input type="checkbox" id="nagang" name="nagang" class="form-check-input" value="नागांग">
                                    <label for="nagang" class="form-check-label" style="font-size: 14px !important;">नागांग</label>
                                 </div>
                                 <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="gomukh-container">
                                    <input type="checkbox" id="gomukh" name="gomukh" class="form-check-input" value="गोमुख">
                                    <label for="gomukh" class="form-check-label" style="font-size: 14px !important;">गोमुख</label>
                                 </div>
                                 <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="other-container">
                                    <input type="checkbox" id="other" name="other" class="form-check-input" value="अन्य">
                                    <label for="other" class="form-check-label" style="font-size: 14px !important;">अन्य</label>
                                 </div>
                              </div>
                           </div>
                     
                           <!-- Aanak -->
                           <div class="form-check mb-2" id="aanak-container">
                              <input type="checkbox" id="aanak" name="aanak" class="form-check-input" value="आनक">
                              <label for="aanak" class="form-check-label" style="font-size: 16px !important;">आनक</label>
                           </div>
                     
                           <!-- Panav -->
                           <div class="form-check mb-2" id="panav-container">
                              <input type="checkbox" id="panav" name="panav" class="form-check-input" value="पणव">
                              <label for="panav" class="form-check-label" style="font-size: 16px !important;">पणव</label>
                           </div>
                     
                           <!-- Jhallari -->
                           <div class="form-check mb-2" id="jhallari-container">
                              <input type="checkbox" id="jhallari" name="jhallari" class="form-check-input" value="झल्लरी">
                              <label for="jhallari" class="form-check-label" style="font-size: 16px !important;">झल्लरी</label>
                           </div>
                     
                           <!-- Tribhuj -->
                           <div class="form-check mb-2" id="tribhuj-container">
                              <input type="checkbox" id="tribhuj" name="tribhuj" class="form-check-input" value="त्रिभुज">
                              <label for="tribhuj" class="form-check-label" style="font-size: 16px !important;">त्रिभुज</label>
                           </div>
                        </div>
                        <small id="vadyaError" class="text-danger" style="display: none; font-size: 12px !important;">Please select at least one instrument.</small>
                     </div>
                     <!-- शंख/श्रृंग वाद्य अपना है..? -->
                     <!-- <div class="col-md-12 mb-3" id=" shankhShrungOwn-container">
                        <input type="hidden" name="shankh_shrung_own" value="false">
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">शंख/शृंग वाद्य आपका अपना है?</label>
                        <input type="checkbox" id="shankhShrungOwn" name="shankh_shrung_own" value="true" class="form-check-input" >
                     </div> -->
                     <!-- शंख/श्रृंग वाद्य अपना है..? -->
                     <div class="col-md-12 mb-3" id="shankhShrungOwn-container" >
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">शंख/श्रृंग वाद्य आपका अपना है?</label>
                        <div class="form-check form-check-inline">
                           <input type="radio" id="shankhShrungOwnYes" name="shankh_shrung_own" class="form-check-input" value="हाँ" >
                           <label for="shankhShrungOwnYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                        </div>
                        <div class="form-check form-check-inline">
                           <input type="radio" id="shankhShrungOwnNo" name="shankh_shrung_own" class="form-check-input" value="नहीं">
                           <label for="shankhShrungOwnNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                        </div>
                       
                        <small id="shankhShrungOwnError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
                     </div>


                     <!-- रचनाएं (रेडियो बटन) -->
                     <div class="col-md-12 mb-3" id="rachnaye-container">
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">रचनाएं</label>
                        <div class="form-check">
                           <input type="radio" id="prathamikPath" name="rachnaye" class="form-check-input" value="प्राथमिक पाठ" >
                           <label for="prathamikPath" class="form-check-label" style="font-size: 16px !important;">प्राथमिक पाठ</label>
                        </div>
                        <div class="form-check">
                           <input type="radio" id="rachnaye1to3" name="rachnaye" class="form-check-input" value="1 से 3 रचनाएँ" >
                           <label for="rachnaye1to3" class="form-check-label" style="font-size: 16px !important;">1 से 3 रचनाएँ</label>
                        </div>
                        <div class="form-check">
                           <input type="radio" id="rachnaye3to5" name="rachnaye" class="form-check-input" value="3 से 5 रचनाएँ" >
                           <label for="rachnaye3to5" class="form-check-label" style="font-size: 16px !important;">3 से 5 रचनाएँ</label>
                        </div>
                        <div class="form-check">
                           <input type="radio" id="rachnaye5to10" name="rachnaye" class="form-check-input" value="5 से 10 रचनाएँ" >
                           <label for="rachnaye5to10" class="form-check-label" style="font-size: 16px !important;">5 से 10 रचनाएँ</label>
                        </div>
                        <div class="form-check">
                           <input type="radio" id="rachnayeMoreThan10" name="rachnaye" class="form-check-input" value="10 से अधिक" >
                           <label for="rachnayeMoreThan10" class="form-check-label" style="font-size: 16px !important;">10 से अधिक</label>
                        </div>
                        <small id="rachnayeError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
                     </div>

                  </div>
                   <!-- यदि नहीं तो -->
                   <div id="ghoshVadakNo-container" style="display: none;">
                    <!-- वाद्य सीखने के इच्छुक हैं..? -->
                    <div class="col-md-12 mb-3" id="learn_vadya">
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">वाद्य सीखने के इच्छुक हैं..?</label>
                        <div class="form-check form-check-inline">
                        <input type="radio" id="learnVadyaYes" name="learn_vadya" class="form-check-input" value="हाँ" >
                        <label for="learnVadyaYes" class="form-check-label" style="font-size: 16px !important;">हाँ</label>
                        </div>
                        <div class="form-check form-check-inline">
                        <input type="radio" id="learnVadyaNo" name="learn_vadya" class="form-check-input" value="नहीं" >
                        <label for="learnVadyaNo" class="form-check-label" style="font-size: 16px !important;">नहीं</label>
                        </div>
                        <small id="learnVadyaError" class="text-danger" style="display: none; font-size: 12px !important;">Please select an option.</small>
                    </div>

                    <div id="learnVadyaList-container" style="display:none;">
                        <!-- वाद्य (रेडियो बटन) -->
                        <div class="col-md-12 mb-3" id="learnVadyaList">
                           <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">वाद्य</label>
                           <div class="ms-2 ms-sm-1">
                              <!-- Shankh -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnShankh" name="learn_vadya_list" class="form-check-input" value="शंख">
                                 <label for="learnShankh" class="form-check-label" style="font-size: 16px !important;">शंख</label>
                              </div>
                        
                              <!-- Shrung with Sub-Options -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnShrung" name="learn_vadya_list" class="form-check-input" value="श्रृंग">
                                 <label for="learnShrung" class="form-check-label" style="font-size: 16px !important;">श्रृंग</label>
                                 <!-- Sub-Options for Shrung (Responsive with Bootstrap) -->
                                 <div class="d-flex flex-row flex-wrap ms-4 ms-sm-3 mt-1">
                                    <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="learnTurya-container">
                                       <input type="radio" id="learnTurya" name="learn_vadya_list" class="form-check-input" value="तुर्य">
                                       <label for="learnTurya" class="form-check-label" style="font-size: 14px !important;">तुर्य</label>
                                    </div>
                                    <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="learnSwarad-container">
                                       <input type="radio" id="learnSwarad" name="learn_vadya_list" class="form-check-input" value="स्वरद">
                                       <label for="learnSwarad" class="form-check-label" style="font-size: 14px !important;">स्वरद</label>
                                    </div>
                                    <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="learnNagang-container">
                                       <input type="radio" id="learnNagang" name="learn_vadya_list" class="form-check-input" value="नागांग">
                                       <label for="learnNagang" class="form-check-label" style="font-size: 14px !important;">नागांग</label>
                                    </div>
                                    <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 me-md-3 me-lg-2 mb-2" id="learnGomukh-container">
                                       <input type="radio" id="learnGomukh" name="learn_vadya_list" class="form-check-input" value="गोमुख">
                                       <label for="learnGomukh" class="form-check-label" style="font-size: 14px !important;">गोमुख</label>
                                    </div>
                                    <div class="form-check hidden-checkbox col-6 col-md-3 col-lg-2 mb-2" id="learnOther-container">
                                       <input type="radio" id="learnOther" name="learn_vadya_list" class="form-check-input" value="अन्य">
                                       <label for="learnOther" class="form-check-label" style="font-size: 14px !important;">अन्य</label>
                                    </div>
                                 </div>
                              </div>
                        
                              <!-- Aanak -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnAanak" name="learn_vadya_list" class="form-check-input" value="आनक">
                                 <label for="learnAanak" class="form-check-label" style="font-size: 16px !important;">आनक</label>
                              </div>
                        
                              <!-- Panav -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnPanav" name="learn_vadya_list" class="form-check-input" value="पणव">
                                 <label for="learnPanav" class="form-check-label" style="font-size: 16px !important;">पणव</label>
                              </div>
                        
                              <!-- Jhallari -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnJhallari" name="learn_vadya_list" class="form-check-input" value="झल्लरी">
                                 <label for="learnJhallari" class="form-check-label" style="font-size: 16px !important;">झल्लरी</label>
                              </div>
                        
                              <!-- Tribhuj -->
                              <div class="form-check mb-2">
                                 <input type="radio" id="learnTribhuj" name="learn_vadya_list" class="form-check-input" value="त्रिभुज">
                                 <label for="learnTribhuj" class="form-check-label" style="font-size: 16px !important;">त्रिभुज</label>
                              </div>
                           </div>
                           <small id="learnVadyaListError" class="text-danger" style="display: none; font-size: 12px !important;">Please select at least one instrument.</small>
                        </div>
                    </div>

                  </div>

               </div>

               <div class="row">
                  <!-- <h5 class="card-title text-center fw-bold " style="color: #ff9800;">गणवेश संबंधी जानकारी</h5> -->

                <!-- गणवेश संबंधी जानकारी -->
                  <div id="ganvesh-container" >
                     <div class="col-md-12 mb-3">
                        <label class="form-label" style="font-size: 16px !important; font-weight: 700; color: #333;">गणवेश संबंधी जानकारी</label>
                        <div class="row ms-2">
                           <div class="col-md-3 form-check" id="sanghPant-container">
                              <input type="checkbox" id="sanghPant" name="sanghpant" class="form-check-input" value="गणवेश की पैंट" >
                              <label for="sanghPant" class="form-check-label" style="font-size: 16px !important;">गणवेश की पैंट</label>
                           </div>
                           <div class="col-md-3 form-check" id="safedKameez-container">
                              <input type="checkbox" id="safedKameez" name="whiteshirt" class="form-check-input" value="सफेद कमीज" >
                              <label for="safedKameez" class="form-check-label" style="font-size: 16px !important;">सफेद कमीज</label>
                           </div>
                           <div class="col-md-3 form-check" id="sanghTopi-container">
                              <input type="checkbox" id="sanghTopi" name="sanghtopi" class="form-check-input" value="गणवेश की टोपी">
                              <label for="sanghTopi" class="form-check-label" style="font-size: 16px !important;">गणवेश की टोपी</label>
                           </div>
                           <div class="col-md-3 form-check" id="sanghPeti-container">
                              <input type="checkbox" id="sanghPeti" name="sanghpeti" class="form-check-input" value="संघ की पेटी">
                              <label for="sanghPeti" class="form-check-label" style="font-size: 16px !important;">संघ की पेटी</label>
                           </div>
                           <div class="col-md-3 form-check" id="jurab-container">
                              <input type="checkbox" id="jurab" name="jurab" class="form-check-input" value="जुराब" >
                              <label for="jurab" class="form-check-label" style="font-size: 16px !important;">जुराब</label>
                           </div>
                           <div class="col-md-3 form-check" id="joote-container">
                              <input type="checkbox" id="joote" name="joote" class="form-check-input" value="जूते" >
                              <label for="joote" class="form-check-label" style="font-size: 16px !important;">जूते</label>
                           </div>
                           <div class="col-md-3 form-check" id="dand-container">
                              <input type="checkbox" id="dand" name="dand" class="form-check-input" value="दंड" >
                              <label for="dand" class="form-check-label" style="font-size: 16px !important;">दंड</label>
                           </div>
                        </div>
                        <small id="ganveshError" class="text-danger" style="display: none; font-size: 12px !important;">Please select at least one uniform item.</small>
                     </div>
                  </div>

               </div>
               </div>
            <div id="card_body_3Error" class="alert alert-danger mb-3" style="display: none; font-size: 14px;margin: 10px;">
               Please complete all required fields in this section
           </div>
         </div>

         <div class="d-flex flex-row flex-md-row justify-content-center align-items-center gap-3 mt-4 py-3">
            <!-- Submit Button -->
            <button type="submit" class="btn fw-bold btn-lg px-4 py-2 rounded-pill text-white shadow-sm border-0" style="background: linear-gradient(135deg, #FF9800, #FF9800);transition: all 0.3s ease;min-width: 120px;">
                <i class="fas fa-arrow-circle-right me-2"></i> Submit

            </button>
            
            <!-- Back Button -->
            <a href="{% url 'register_samautkarsh:view_registration' %}" class="btn btn-outline-danger fw-bold btn-lg px-4 py-2 rounded-pill shadow-sm"style="transition: all 0.3s ease;min-width: 120px;">
                <i class="fas fa-arrow-left me-2"></i> Back
            </a>
        </div>


         <!-- <div class="d-flex justify-content-center mt-4">
               <button type="submit" class="btn btn-success fw-bold mt-3 w-auto" style="font-size: 16px;">Submit</button>
            </div> -->
         <!-- <button type="submit" class="btn btn-success center w-auto mt-3"style="font-size: 12px;">Submit</button> -->
   </div>
   </form>

   <!--Modal for Preview -->
   <div id="formModal" class="modal" style="display: none;">
      <div class="modal-content"
         style="background-color: #f8f9fa; border-radius: 10px; max-width: 800px; margin: 20px auto; padding: 20px;">
         <!-- Modal Header -->
         <div class="modal-header"
            style=" color: white; border-top-left-radius: 10px; border-top-right-radius: 10px; padding: 15px;">
            <h2 class="modal-title">पंजीकरण विवरण</h2>
            <span class="close-modal" style="cursor: pointer; font-size: 24px; color: white;">&times;</span>
         </div>

         <!-- Modal Body -->
         <div class="modal-body" style="overflow-x: auto;">
            <!-- Personal Information Section -->
            <h4 class="modal-title">व्यक्तिगत जानकारी / Personal Information</h4>
            <table class="table table-bordered" style="width: 100%; margin-bottom: 1rem;">
                <tbody>
                    <tr id="modalReferralCodeContainer">
                        <th style="width: 40%;">रेफरल कोड</th>
                        <td><span id="modalReferralCode">N/A</span></td>
                    </tr>
                    <tr id="modalNameContainer">
                        <th>नाम (First Name)</th>
                        <td><span id="modalName">N/A</span></td>
                    </tr>
                    <tr id="modalLastNameContainer">
                        <th>उप-नाम (Last Name)</th>
                        <td><span id="modalLastName">N/A</span></td>
                    </tr>
                    <tr id="modalDOBContainer">
                        <th>जन्मतिथि</th>
                        <td><span id="modalDOB">N/A</span></td>
                    </tr>
                    <tr id="modalBloodGroupContainer">
                        <th>रक्त-गट / Blood Group</th>
                        <td><span id="modalBloodGroup">N/A</span></td>
                    </tr>
                    <tr id="modalProfessionContainer">
                        <th>श्रेणी</th>
                        <td><span id="modalProfession">N/A</span></td>
                    </tr>
                    <tr id="modalGenderContainer">
                        <th>लैंगिक जानकारी</th>
                        <td><span id="modalGender">N/A</span></td>
                    </tr>
                    <tr id="modalCurrentAddressContainer">
                        <th>वर्तमान पता (Current Address)</th>
                        <td><span id="modalCurrentAddress">N/A</span></td>
                    </tr>
                    <tr id="modalPermanentAddressContainer">
                        <th>स्थायी पता (Permanent Address)</th>
                        <td><span id="modalPermanentAddress">N/A</span></td>
                    </tr>
                    <tr id="modalAddressPincodeContainer">
                        <th>पिनकोड (वर्तमान निवास का)</th>
                        <td><span id="modalAddressPincode">N/A</span></td>
                    </tr>
                    <tr id="modalAddressNagarContainer">
                        <th>निवास का नगर</th>
                        <td><span id="modalAddressNagar">N/A</span></td>
                    </tr>
                    <tr id="modalAddressStateContainer">
                        <th>राज्य</th>
                        <td><span id="modalAddressState">N/A</span></td>
                    </tr>
                    <tr id="modalProfessionTypeContainer">
                        <th>व्यावसायिक</th>
                        <td><span id="modalProfessionType">N/A</span></td>
                    </tr>
                    <tr id="modalProfessionSubtypeContainer">
                        <th>उप-श्रेणी</th>
                        <td><span id="modalProfessionSubtype">N/A</span></td>
                    </tr>
                    <tr id="modalUniversityContainer">
                        <th>विश्वविद्यालय</th>
                        <td><span id="modalUniversity">N/A</span></td>
                    </tr>
                    <tr id="modalInstituteContainer">
                        <th>संस्थान</th>
                        <td><span id="modalInstitute">N/A</span></td>
                    </tr>
                    <tr id="modalCourseContainer">
                        <th>कोर्स</th>
                        <td><span id="modalCourse">N/A</span></td>
                    </tr>
                    <tr id="modalStreamContainer">
                        <th>स्ट्रीम</th>
                        <td><span id="modalStream">N/A</span></td>
                    </tr>
                </tbody>
            </table>
        
            <!-- Sangh Related Information Part 1 -->
            <h4 class="modal-title">संघ संबंधी जानकारी भाग - 1</h4>
            <table class="table table-bordered" style="width: 100%; margin-bottom: 1rem;">
                <tbody>
                    <tr id="modalVividhSangathanCheckboxContainer">
                        <th style="width: 40%;">यदि विविध संगठन में कोई दायित्व हैं तो</th>
                        <td><span id="modalVividhSangathanCheckbox">N/A</span></td>
                    </tr>
                    <tr id="modalVividhSangathanContainer">
                        <th style="width: 40%;">विविध संगठन</th>
                        <td><span id="modalVividhSangathan">N/A</span></td>
                    </tr>
                    <tr id="modalPincodeContainer">
                        <th>पिनकोड (जिस प्रांत में आपका दायित्व है।)</th>
                        <td><span id="modalPincode">N/A</span></td>
                    </tr>
                    <tr id="modalNagarContainer">
                        <th>नगर</th>
                        <td><span id="modalNagar">N/A</span></td>
                    </tr>
                    <tr id="modalStateContainer">
                        <th>राज्य</th>
                        <td><span id="modalState">N/A</span></td>
                    </tr>
                    <tr id="modalUpbastiContainer">
                        <th>रेजिडेंशियल कॉलोनी (ब्लॉक/गली)</th>
                        <td><span id="modalUpbasti">N/A</span></td>
                    </tr>
                    <tr id="modalEkaiContainer">
                        <th>दायित्व की इकाई</th>
                        <td><span id="modalEkai">N/A</span></td>
                    </tr>
                    <tr id="modalDayitvaContainer">
                        <th>दायित्व</th>
                        <td><span id="modalDayitva">N/A</span></td>
                    </tr>
                    <tr id="modalPrantContainer">
                        <th>दायित्व का प्रान्त</th>
                        <td><span id="modalPrant">N/A</span></td>
                    </tr>
                    <tr id="modalVibhagContainer">
                        <th>दायित्व का विभाग</th>
                        <td><span id="modalVibhag">N/A</span></td>
                    </tr>
                    <tr id="modalJilaContainer">
                        <th>दायित्व का जिला</th>
                        <td><span id="modalJila">N/A</span></td>
                    </tr>
                    <tr id="modalEkaiNagarContainer">
                        <th>दायित्व का नगर</th>
                        <td><span id="modalEkaiNagar">N/A</span></td>
                    </tr>
                    <tr id="modalMandalContainer">
                        <th>दायित्व का मंडल</th>
                        <td><span id="modalMandal">N/A</span></td>
                    </tr>
                    <tr id="modalBastiContainer">
                        <th>दायित्व की बस्ती</th>
                        <td><span id="modalBasti">N/A</span></td>
                    </tr>
                    <tr id="modalSakhaMilanCheckboxContainer">
                        <th>क्या आप मिलन से जुड़े हैं?</th>
                        <td><span id="modalSakhaMilanCheckbox">N/A</span></td>
                    </tr>
                    <tr id="modalSakhaMilanContainer">
                        <th>शाखा / मिलन</th>
                        <td><span id="modalSakhaMilan">N/A</span></td>
                    </tr>
                </tbody>
            </table>
        
            <!-- Sangh Related Information Part 2 -->
            <h3 class="modal-title">संघ संबंधी जानकारी भाग - 2</h3>
            <!-- Sangh Shikshan Subsection -->
            <h5 class="modal-title">संघ शिक्षण</h5>
            <table class="table table-bordered" style="width: 100%; margin-bottom: 1rem;">
                <tbody>
                    <tr id="modalSanghSikshanLevelContainer">
                        <th style="width: 40%;">संघ शिक्षण</th>
                        <td><span id="modalSanghSikshanLevel">N/A</span></td>
                    </tr>
                    <tr id="modalPratigyaCheckboxContainer">
                        <th>आपकी प्रतिज्ञा हुई है?</th>
                        <td><span id="modalPratigyaCheckbox">N/A</span></td>
                    </tr>
                    <tr id="modalPrarambhikYearContainer">
                        <th>प्रारम्भिक वर्ग</th>
                        <td><span id="modalPrarambhikYear">N/A</span></td>
                    </tr>
                    <tr id="modalPrathmikYearContainer">
                        <th>प्राथमिक वर्ग</th>
                        <td><span id="modalPrathmikYear">N/A</span></td>
                    </tr>
                    <tr id="modalPrathamYearContainer">
                        <th>संघ शिक्षा वर्ग / प्रथम वर्ष</th>
                        <td><span id="modalPrathamYear">N/A</span></td>
                    </tr>
                    <tr id="modalDwitiyaYearContainer">
                        <th>कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष</th>
                        <td><span id="modalDwitiyaYear">N/A</span></td>
                    </tr>
                    <tr id="modalTritiyaYearContainer">
                        <th>कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष</th>
                        <td><span id="modalTritiyaYear">N/A</span></td>
                    </tr>
                </tbody>
            </table>
        
            <!-- Ghosh Related Information Subsection -->
            <h5 class="modal-title">घोष संबंधी जानकारी</h5>
            <table class="table table-bordered" style="width: 100%; margin-bottom: 1rem;">
                <tbody>
                    <tr id="modalGhoshVadakContainer">
                        <th style="width: 40%;">क्या आप घोष वादक हैं?</th>
                        <td><span id="modalGhoshVadak">N/A</span></td>
                    </tr>
                    <tr id="modalShankhContainer">
                        <th>शंख</th>
                        <td><span id="modalShankh">N/A</span></td>
                    </tr>
                    <tr id="modalShrungContainer">
                        <th>श्रृंग</th>
                        <td><span id="modalShrung">N/A</span></td>
                    </tr>
                    <tr id="modalTuryaContainer">
                        <th>तुर्या</th>
                        <td><span id="modalTurya">N/A</span></td>
                    </tr>
                    <tr id="modalSwaradContainer">
                        <th>स्वरद</th>
                        <td><span id="modalSwarad">N/A</span></td>
                    </tr>
                    <tr id="modalNagangContainer">
                        <th>नागांग</th>
                        <td><span id="modalNagang">N/A</span></td>
                    </tr>
                    <tr id="modalGomukhContainer">
                        <th>गोमुख</th>
                        <td><span id="modalGomukh">N/A</span></td>
                    </tr>
                    <tr id="modalOtherContainer">
                        <th>अन्य</th>
                        <td><span id="modalOther">N/A</span></td>
                    </tr>
                    <tr id="modalAanakContainer">
                        <th>आनक</th>
                        <td><span id="modalAanak">N/A</span></td>
                    </tr>
                    <tr id="modalPanavContainer">
                        <th>पणव</th>
                        <td><span id="modalPanav">N/A</span></td>
                    </tr>
                    <tr id="modalJhallariContainer">
                        <th>झल्लरी</th>
                        <td><span id="modalJhallari">N/A</span></td>
                    </tr>
                    <tr id="modalTribhujContainer">
                        <th>त्रिभुज</th>
                        <td><span id="modalTribhuj">N/A</span></td>
                    </tr>
                    <tr id="modalShankhShrungOwnContainer">
                        <th>शंख/श्रृंग वाद्य आपका अपना है?</th>
                        <td><span id="modalShankhShrungOwn">N/A</span></td>
                    </tr>
                    <tr id="modalRachnayeContainer">
                        <th>रचनाएँ</th>
                        <td><span id="modalRachnaye">N/A</span></td>
                    </tr>
                    <tr id="modalLearnVadyaContainer">
                        <th>वाद्य सीखने के इच्छुक हैं..?</th>
                        <td><span id="modalLearnVadya">N/A</span></td>
                    </tr>
                    <tr id="modalLearnVadyaListContainer">
                        <th>वाद्य</th>
                        <td><span id="modalLearnVadyaList">N/A</span></td>
                    </tr>
                    <tr id="modalSanghPantContainer">
                     <th style="width: 40%;">गणवेश की पैंट</th>
                     <td><span id="modalSanghPant">N/A</span></td>
                 </tr>
                 <tr id="modalSafedKameezContainer">
                     <th>सफेद कमीज</th>
                     <td><span id="modalSafedKameez">N/A</span></td>
                 </tr>
                 <tr id="modalSanghTopiContainer">
                     <th>गणवेश की टोपी</th>
                     <td><span id="modalSanghTopi">N/A</span></td>
                 </tr>
                 <tr id="modalSanghPetiContainer">
                     <th>संघ की पेटी</th>
                     <td><span id="modalSanghPeti">N/A</span></td>
                 </tr>
                 <tr id="modalJurabContainer">
                     <th>जुराब</th>
                     <td><span id="modalJurab">N/A</span></td>
                 </tr>
                 <tr id="modalJooteContainer">
                     <th>जूते</th>
                     <td><span id="modalJoote">N/A</span></td>
                 </tr>
                 <tr id="modalDandContainer">
                     <th>दंड</th>
                     <td><span id="modalDand">N/A</span></td>
                 </tr>
                </tbody>
            </table>
        
            <!-- Uniform Related Information Subsection -->
            <!-- <h4 class="modal-title">संघ गणवेश</h4>
            <table class="table table-bordered" style="width: 100%; margin-bottom: 1rem;">
                <tbody>
                    
                </tbody>
            </table> -->
        </div>
         <!-- Modal Footer -->
         <div class="modal-footer d-flex justify-content-center mt-4"
            style="background-color: #e9ecef; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; padding: 15px;">
            <button type="button" class="class-modal btn btn-success btn-sm border border-2 w-auto"
               style="margin-right: 10px;">Edit</button>
            <button id="finalSubmit" class="btn btn-success btn-sm w-auto">Confirm Submit</button>
         </div>
      </div>
   </div>
   </div>
   <!-- Bootsrap -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
   <!-- SweetAlert2 JavaScript -->
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.21/dist/sweetalert2.all.min.js"></script>

   <!-- Add GSAP library -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
   <!-- <script src="/static/register_samautkarsh/js/update.js"></script> -->
   <script>
      // Start Mapping data for dropdowns
      let mappings = {}; // Global variable to store mappings
      // Async function to fetch mappings
      async function getMappings() {
        try {
        const response = await fetch('/get-registration-mappings/');
        const data = await response.json();
        mappings = data; // Store globally
        } catch (error) {
        console.error("❌ Error fetching mappings:", error);
        }
      }
      document.addEventListener("DOMContentLoaded", async () => {
      await getMappings();

      console.log(mappings);
      const mappingsss = {
         prantToVibhag: {
               'दिल्ली': ['विभाग 1-1', 'विभाग 1-2', 'विभाग 2-1', 'विभाग 2-2'],
         },
         VibhagToJila: {
               'विभाग 1-1': ['जिला 1-1-1', 'जिला 1-1-2'],
               'विभाग 1-2': ['जिला 1-2-1', 'जिला 1-2-2'],
               'विभाग 2-1': ['जिला 2-1-1', 'जिला 2-1-2'],
               'विभाग 2-2': ['जिला 2-2-1', 'जिला 2-2-2'],
         },
         jilaToNagar: {
               'जिला 1-1-1': ['नगर 1-1-1', 'नगर 1-1-2'],
               'जिला 1-1-2': ['नगर 1-1-3', 'नगर 1-1-4'],
               'जिला 1-2-1': ['नगर 1-2-1', 'नगर 1-2-2'],
               'जिला 1-2-2': ['नगर 1-2-3', 'नगर 1-2-4'],
               'जिला 2-1-1': ['नगर 2-1-1', 'नगर 2-1-2'],
               'जिला 2-1-2': ['नगर 2-1-3', 'नगर 2-1-4'],
               'जिला 2-2-1': ['नगर 2-2-1', 'नगर 2-2-2'],
               'जिला 2-2-2': ['नगर 2-2-3', 'नगर 2-2-4'],
         },
         nagarToMandal: {
               'नगर 1-1-1': ['मंडल 1-1-1-1', 'मंडल 1-1-1-2'],
               'नगर 1-1-2': ['मंडल 1-1-2-1', 'मंडल 1-1-2-2'],
               'नगर 1-2-1': ['मंडल 1-2-1-1', 'मंडल 1-2-1-2'],
               'नगर 1-2-2': ['मंडल 1-2-2-1', 'मंडल 1-2-2-2'],
         },
         mandalToBasti: {
               'मंडल 1-1-1-1': ['बस्ती 1-1-1-1-1', 'बस्ती 1-1-1-1-2'],
               'मंडल 1-1-1-2': ['बस्ती 1-1-1-2-1', 'बस्ती 1-1-1-2-2'],
               'मंडल 1-2-1-1': ['बस्ती 1-2-1-1-1', 'बस्ती 1-2-1-1-2'],
               'मंडल 1-2-1-2': ['बस्ती 1-2-1-2-1', 'बस्ती 1-2-1-2-2'],
         },
         bastiToUpbasti: {
               'बस्ती 1-1-1-1-1': ['उपबस्ती 1-1-1-1-1-1', 'उपबस्ती 1-1-1-1-1-2'],
               'बस्ती 1-1-1-1-2': ['उपबस्ती 1-1-1-1-2-1', 'उपबस्ती 1-1-1-1-2-2'],
               'बस्ती 1-2-1-1-1': ['उपबस्ती 1-2-1-1-1-1', 'उपबस्ती 1-2-1-1-1-2'],
               'बस्ती 1-2-1-1-2': ['उपबस्ती 1-2-1-1-2-1', 'उपबस्ती 1-2-1-1-2-2'],
         },
         dayitvaMapping: {
               prant: ['दायित्व प्रांत 1', 'दायित्व प्रांत 2'],
               vibhag: ['दायित्व विभाग 1', 'दायित्व विभाग 2'],
               jila: ['दायित्व जिला 1', 'दायित्व जिला 2'],
               ekai_nagar: ['दायित्व नगर 1', 'दायित्व नगर 2'],
               akhilbhartiya: ['दायित्व akhil 1', 'दायित्व akhil 2'],
               chetra: ['दायित्व area 1', 'दायित्व area 2'],
               mandal: ['दायित्व मंडल 1', 'दायित्व मंडल 2'],
               basti: ['दायित्व बस्ती 1', 'दायित्व बस्ती 2'],
               upbasti: ['दायित्व उपबस्ती 1', 'दायित्व उपबस्ती 2'],
         },
         pincodeToNagar: {
               "110001": ["नगर 1-1-1", "नगर 1-1-2"],
               "110002": ["नगर 1-1-3"],
               "110003": ["नगर 1-1-4"],
               "110004": ["नगर 1-2-1"],
               "110005": ["नगर 1-2-2"],
               "110006": ["नगर 1-2-3"],
         },
         delhiPincodes: ["110001", "110002", "110003"],
         statePincodes: ["110004", "110005", "110006"],
         pincodeToState: {
               "110004": ['state-1', "state-2"],
               "110005": ['state-3', "state-4"],
               "110006": ['state-5', "state-6"],
         },
      };


    const sangathanToReferralCode = {
        "अखिल भारतीय विद्यार्थी परिषद": "ABVP", "विद्याभारती": "VIBH", "भारतीय शिक्षण मंडल": "BSM", "अखिल भारतीय शैक्षिक महासंघ": "ABSM", "संस्कृत भारती": "SBH", "शिक्षा संस्कृति उत्थान न्यास": "SSUN", "वनवासी कल्याण आश्रम": "VKA", "विश्व हिन्दू परिषद्": "VHP",
        "भारतीय जनता पार्टी": "BJP", "राष्ट्रीय सिक्ख संगत": "RSN", "क्रीडा भारती": "KRBH", "संस्कार भारती": "SASB", "सक्षम": "SKSM", "आरोग्य भारती": "AABH", "एन्. एम्. ओ. (नैशनल मैडिकल आर्गेनाइजेशन)": "NMO",
        "भारत विकास परिषद": "BHVP", "दीनदयाल शोध संस्थान": "DDSS", "राष्ट्रीय सेवा भारती": "RSBH", "भारतीय किसान संघ": "BKS", "भारतीय मजदूर संघ": "BMS", "स्वदेशी जागरण मंच": "SJM",
        "सहकार भारती": "SHBH", "ग्राहक पंचायत": "GRHP", "लघु उद्योग भारती": "LUBH", "अखिल भारतीय साहित्य परिषद": "ABSP", "अधिवक्ता परिषद": "ADVP", "प्रज्ञा प्रवाह": "PRPR",
        "विज्ञान भारती": "VBH", "अखिल भारतीय इतिहास संकलन समिति": "ABSS", "पूर्व सैनिक सेवा परिषद": "PSSP", "हिन्दु जागरण मंच": "HJM", "सीमा जागरण मंच": "SIJM",
        "स्वामी विवेकानन्द मेडिकल मिशन": "SVMM", "दिल्ली अध्यापक परिषद्": "DAP", "सुरूचि प्रकाशन": "SRPR", "इंद्रप्रस्थ विश्व संवाद केंद्र": "IVSK", "राष्ट्र सेविका समिति": "RSS", "हिन्दुस्थान समाचार": "HINS", "SUYASH": "SUYASH"
    };
    const sakha_milan = [
        "स्कूल विद्यार्थी", "कॉलेज विद्यार्थी", "तरुण व्यवसायी", "प्रौढ़ व्यवसायी", "Young Professional", "प्राध्यापक", "Summer Camp","परिवार मिलन","अन्य", "अभी तक किसी शाखा/मिलन से नहीं जुड़े हैं / सज्जन शक्ति",
    ]

    const fieldToHindiMapping = {
        sub_category_type:"उप-श्रेणी",
        prant: "प्रांत", vibhag: "विभाग", jila: "जिला", nagar: "नगर", address_nagar: "नगर", mandal: "मंडल", basti: "बस्ती", upbasti: "उपबस्ती", ekai_nagar: "नगर",
        sakha_milan: "शाखा / मिलन", vividhSangathan: "विविध संगठन", "akhilbhartiya": "अखिलभारतीय", "chetra": "क्षेत्र",
    };

    const hindiToEnglishMapping = {
        "प्रांत": "prant", "विभाग": "vibhag", "जिला": "jila", "नगर": "nagar", "नगर": "address_nagar", "मंडल": "mandal", "बस्ती": "basti", "उपबस्ती": "upbasti", "नगर": "ekai_nagar",
        "शाखा / मिलन": "sakha_milan", "विविध संगठन": "vividhSangathan", "अखिलभारतीय": "akhilbhartiya", "क्षेत्र": "chetra",
    };
     // Universities and their institutes
    const universityData = {
        "Delhi Technical University": ["Delhi Technical University"],
        "Indraprastha Institute of Information Technology-Delhi": ["Indraprastha Institute of Information Technology-Delhi"],
        "Indira Gandhi Delhi Technical University for Women": ["Indira Gandhi Delhi Technical University for Women"],
        "National Law University": ["National Law University"],
        "Ambedkar University Delhi": ["Ambedkar University Delhi"],
        "GGSIP UNIVERSITY": [
        "GGSIP UNIVERSITY",
        "Amity Institute of Education, M - Block, Saket",
        "Amity School of Engineering & Technology, 580, Delhi Palam Vihar Road, Bijwasan",
        "Army College of Medical Science Near Base Hospital Delhi Cantt",
        "Banarsidas Chandiwala Institute of Hotel Management & Catering Technology",
        "Banarsidas Chandiwala Institute of Information Technology",
        "Banarsidas Chandiwala Institute of Physiotherapy",
        "Banarsidas Chandiwala Institute of Professional Studies",
        "Bhagwan Parshuram Institute of Technology",
        "Bharti Vidyapeeth's College of Engineering",
        "Bharti Vidyapeeth Institute of Computer Applications & Management",
        "Chanderprabhu Jain College Of Higher Studies & School of Law",
        "COMM-IT, Career Academy",
        "Delhi School of Professional Studies and Research",
        "Delhi Institute Of Advanced Studies",
        "Delhi Institute of Rural Development",
        "Delhi Institute Of Rural Development (Sister Branch)",
        "Fairfield Institute of Management & Technology",
        "Gitarattan Institute Of Advanced Studies & Training",
        "Gitarattan International Business School",
        "Guru Nanak Institute of Management",
        "Guru Teg Bahadur Institute of Technology",
        "HMR Institute of Technology & Management",
        "Ideal Institute of Management and Technology",
        "ISIC Institute of Rehabilitation Sciences",
        "Institute of Information Technology & Management",
        "Institute of Innovation in Technology and Management",
        "Institute Of Vocational Studies",
        "Jagan Institute of Management Studies",
        "Jagannath International Management School, Vasant Kunj",
        "Jagannath International Management School, Kalkaji",
        "Kalka Institute for Research and Advanced Studies",
        "Kasturi Ram College of Higher Education",
        "Kamal Institute of Higher Education and Advance Technology",
        "Lal Bahadur Shastri Institute of Management",
        "Lingaya's Lalita Devi Institute of Management Science",
        "Lakshmi Bai Batra College Of Nursing",
        "Madhu Bala Institute of Communication and Electronic Media",
        "Maharaja Agrasen Institute Of Management Studies",
        "Maharaja Agrasen Institute of Technology",
        "Maharaja Surajmal Institute",
        "Maharaja Surajmal Institute of Technology",
        "Management Education & Research Institute",
        "MBS School of Planning and Architecture",
        "New Delhi Institute of Management",
        "Northern India Engineering College",
        "Pradeep Memorial Comprehensive College Of Education",
        "Periyar Management and Computer College",
        "Rajiv Gandhi Cancer Institute and Research Centre",
        "Rukmini Devi Institute of Advanced Studies",
        "Sant Hari Dass College Of Higher Education",
        "Sirifort College Of Computer Technology & Management",
        "Sri Guru Tegh Bahadur Institute of Management and Information Technology",
        "Special Art School",
        "St. Stephen's College Of Nursing",
        "Teachers Training Institute for Special Education",
        "Tecnia Institute of Advanced Studies",
        "Trinity Institute of Professional Studies",
        "Vastu Kala Academy",
        "Vivekananda Institute of Professional Studies",
        "Ambedkar Institute of Advanced Communication Technologies & Research",
        "Ambedkar Institute of Technology",
        "Aryabhatt Institute of Technology",
        "Bhai Parmanand Institute of Business Studies",
        "College of Medical Lab Technology, Hindu Rao Hospital",
        "Ch. Brahm Prakash Ayurved Charak Sansthan",
        "College of Nursing, VMMC & Safdarjung Hospital",
        "College of Nursing, Dr. Ram Manohar Lohia Hospital",
        "Ch. Brahm Prakash Govt. Engineering College",
        "Delhi Institute of Heritage Research & Management",
        "Dr. B. R. Sur Homeopathic Medical College and Hospital and Research Centre",
        "Delhi Institute of Tool Engineering",
        "ESIC Dental College and Hospital",
        "G. B. Pant Govt. Engineering College",
        "G. B. Pant Institute of Technology",
        "Guru Nanak Dev Institute of Technology",
        "Integrated Institute of Technology",
        "Kasturba Gandhi Institute of Technology",
        "Lok Nayak Jayaprakash Narayan National Institute of Criminology and Forensic Science",
        "Meera Bai Integrated Institute of Technology",
        "Morarji Desai National Institute of Yoga",
        "National Centre for Diseases Control",
        "National Power Training Institute",
        "NDMC Medical College at Hindu Rao Hospital",
        "PGIMER, Dr. Ram Manohar Lohia Hospital",
        "Pusa Institute of Technology",
        "Vardhaman Mahavir Medical College & Safdarjang Hospital"
        ],
        "SCERT":[  "District Institute of Education and Training, (North) Keshav Puram, Delhi-110035 (Co. Ed.)",
            "District Institute of Education and Training, (North-West) Pitam Pura, Delhi-110088 (Co. Ed.)",
            "District Institute of Education and Training, (West) Old Rajinder Nagar, New Delhi-110060 (Co.Ed.)",
            "District Institute of Education and Training, (Central) Darya Ganj, New Delhi-110002 (Co. Ed.)",
            "District Institute of Education and Training (New Delhi) RK Puram, New Delhi-110022 (Co.Ed.)",
            "District Institute of Education and Training, (North-East) Dilshad Garden, New Delhi (Co.Ed.)",
            "District Institute of Education and Training, (East) Karkardooma Institutional Area, Delhi-110092 (Co. Ed)",
            "District Institute of Education and Training (South) Moti Bagh, New Delhi-110021 (Co.Ed.)",
            "District Institute of Education and Training, (South-West) Ghuman Hera, Najafgarh, New Delhi-110073 (Co. Ed.)",
            "Amity Institute of Education, Saket, New Delhi-17 (Co.Ed.)",
            "Delhi College of Vocational Studies and Research, Baprola, Delhi-43 (Co.Ed.)",
            "Drishhty Institute, Uday Vihar, Nilothi, New Delhi",
            "Gitarattan Institute of Advanced Studies & Training, Rohini, Delhi-110085 (for female only)",
            "Great Mission Teacher’s Training Institute, Dwarka, New Delhi-110075 (for female only)",
            "Ideal Institute of Management & Technology, Karkardooma, New Delhi-92 (Co.Ed.)",
            "Institute of Vocational Studies, Sheikh Sarai, New Delhi-17",
            "Jain Bharti Institute of Higher Education, Rohini, Delhi-110089 (for female only)",
            "L.C. College of Education, Sultan Puri, Nangloi, Delhi-110086",
            "Lovely Teachers’ Training Institute, Priyadarshni Vihar, Delhi-92 (for female only)",
            "M.A. Education Institute, Rohini, Delhi-85 (Co.Ed.)",
            "M.D.Inderprash Institute for Higher Education, Begumpur Extn. Delhi-110088",
            "M.R. Bharti College of Education, Mudka, Nangloi Delhi-110041",
            "Maharaja Surajmal Institute, Janak Puri, New Delhi-110058 (Co.Ed.)",
            "Pradeep Memorial Comprehensive College of Education, Nangloi, Delhi-110086 (for female only)",
            "Rama Krishna Teacher Training Institute, Vikas Puri, New Delhi-110018 (for female only)",
            "Rishab Institute, Mayur Vihar, Delhi-110091 (for female only)",
            "Sai Institute for Girls’, Raja Ram Kohli Marg, Delhi-110031 (for female only)",
            "Sant Hari Dass College of Higher Education, Najafgarh, New Delhi-43",
            "Sirifort College of Computer Technology & Management, Rohini, New Delhi-110085",
            "Sri Ram Institute of Teacher Education, Dwarka, New Delhi-77 (Co.Ed.)",
            "Tecnia Institute of Teacher Education, Rohini, Delhi-85 (Co.Ed.)",
            "Trinity Institute of Professional Studies, Vikas Puri, New Delhi-18",
            "V.D. Institute of Technology, Krishan Vihar, Delhi-110086 (Co.Ed.)",
            "Vidya Training Institute, Connaught Place, New Delhi-110001 (for female only)",
            "Air Force Vocational College, Old Willington Race Course Camp, New Delhi",
            "Bal Bharati Nursery Training Institute, New Delhi",
            "Delhi Nursing Teacher Training Institute, Defence Colony, New Delhi-24",
            "G R Memorial N.T.T. Institute, Nilothi More, Nangloi, Delhi-41",
            "ICS Infotech Institute, Pankha Road, New Delhi-46",
            "Kaushalaya Institute for Nursery Teacher Education, Badarpur, Jaitpur, Delhi-42",
            "L R College of Advanced Studies, Rohini, Delhi-85",
            "Lingaya's Lalita Devi Institute of Management & Sciences, Village Mandi, New Delhi-47",
            "Manav Bharati N.T.T. Institute, Panchsheel Park, New Delhi-17",
            "Manavi Institute Of Education & Technology, Rohini, Delhi-85",
            "Modelways N.T.T. Institute, Ashok Vihar, Delhi-52",
            "Pragati Institute of Education & Training, Dwarka, New Delhi-78",
            "Prayas College of Education, New Friends Colony, New Delhi-65",
            "Rukmini Devi College of Education, Rohini, Delhi-85",
            "Satyam International Polytechnic, Pitampura, New Delhi-88"],
        "Delhi Nursing Council":[ "Akanksha Institute of Nursing, Najafgarh, Delhi",
            "Apollo School of Nursing, Sarita Vihar, New Delhi",
            "Baba Hari Dass Institute of Nursing Education",
            "Ginni Devi Action School of Nursing, Paschim Vihar",
            "Florence Nightingale School of Nursing, GTB Hospital",
            "School of Nursing, Hindu Rao Hospital, Delhi",
            "School of Nursing, Holy Family Hospital, Delhi",
            "School of Nursing, Kasturba Gandhi Hospital, Delhi",
            "Lady Reading Health School, Bara Hindu Rao, Delhi",
            "Panna Dai School of Nursing, DDU Hospital, New Delhi",
            "Rural Health Training Centre, Najafgarh, New Delhi",
            "Salokaya College of Nursing, Rohini, Delhi",
            "School of Nursing, Sir Ganga Ram Hospital, Old Rajinder Nagar, New Delhi",
            "Smt Janaki Rani Talwar School of Nursing, Moolchand Hospital, Lajpat Nagar, New Delhi",
            "School of Nursing, St. Stephen's Hospital, Delhi",
            "Sushila School of Nursing, Gautam Colony, Narela, Delhi",
            "School of Nursing, Tirath Ram Shah Hospital, New Delhi",
            "Rufaida College of Nursing, Faculty of Nursing, Jamia Hamdard Nagar, New Delhi",
            "R.V.S. Nursing School, Swami Dayanand Colony, Dilshad Garden, Delhi",
            "Brahm Shakti School of Nursing, Budh Vihar, Delhi",
            "Institute of Public Health & Hygiene, Mahipalpur Extn., Delhi"],
        "National Council for Vocational Training/State Council for vocational training":[ "ITI Jahangir Puri",
            "ITI Dheer Pur",
            "ITI Narela",
            "ITI Jail Road",
            "ITI Hastsal",
            "ITI Tilak Nagar (W)",
            "ITI Mangol Puri",
            "ITI Jaffer Pur",
            "ITI Mayur Vihar",
            "ITI Nand Nagri",
            "ITI Shahdara",
            "ITI Vivek Vihar (W)",
            "ITI Mori Gate",
            "ITI Pusa",
            "BTC Pusa",
            "ITI Malvia Nagar",
            "ITI Arab Ki Sarai",
            "ITI Siri Fort",
            "Dy. Apprentice Advisor",
            "WCSC"],
        "Board of Technical Education":["Chotu Ram Institute of Technology"],
        "Delhi Pharmaceutical Science and Research University":["Delhi Pharmaceutical Science and Research University"],
        "University of Delhi":[ "University of Delhi",
            "Acharya Narender Dev College",
            "Aditi Mahavidyalaya",
            "Atma Ram Sanatan Dharam College",
            "Ayurvedic & Unani Tibbia College",
            "Bhagini Nivedita College",
            "Bharati College",
            "Bhaskaracharya College of Applied Sciences",
            "Bhim Rao Ambedkar College",
            "College of Art",
            "College of Vocational Studies",
            "Daulat Ram College",
            "Deen Dayal Upadhyaya College",
            "Delhi College of Arts & Commerce",
            "Delhi Institute of Pharmaceutical Sciences & Research",
            "Deshbandhu College",
            "Dyal Singh College (Evening)",
            "Dyal Singh College",
            "Gargi College",
            "Hans Raj College",
            "Hindu College",
            "Indira Gandhi Institute of Physical Education & Sports Sciences",
            "Indraprastha College for Women",
            "Institute of Home Economics",
            "Janki Devi Memorial College",
            "Jesus & Mary College",
            "Kalindi College",
            "Kamala Nehru College",
            "Keshav Mahavidyalaya",
            "Kirori Mal College",
            "Lady Hardinge Medical College",
            "Lady Irwin College",
            "Lady Shri Ram College for Women",
            "Lakshmi Bai College",
            "Maharaja Agrasen College",
            "Maharishi Valmiki College of Education",
            "Maitreyi College",
            "Mata Sundri College for Women",
            "Maulana Azad Institute of Dental Sciences",
            "Maulana Azad Medical College",
            "Miranda House",
            "Moti Lal Nehru College (Evening)",
            "Moti Lal Nehru College",
            "Nehru Homoeopathic Medical College & Hospital",
            "Netaji Subhas University of Technology",
            "PGDAV College (Eve.)",
            "PGDAV College",
            "Rajdhani College",
            "Rajkumari Amrit Kaur College of Nursing",
            "Ram Lal Anand College (Evening)",
            "Ram Lal Anand College",
            "Ramanujan College",
            "Ramjas College",
            "Satyawati College (Evening)",
            "Satyawati College",
            "Shaheed Bhagat Singh College (Evening)",
            "Shaheed Bhagat Singh College",
            "Shaheed Rajguru College of Applied Sciences for Women",
            "Shaheed Sukhdev College of Business Studies",
            "Shivaji College",
            "Shri Ram College of Commerce",
            "Shyam Lal College (Eve.)",
            "Shyam Lal College",
            "Shyama Prasad Mukherji College for Women",
            "Sri Aurobindo College (Eve.)",
            "Sri Aurobindo College",
            "Sri Guru Gobind Singh College of Commerce",
            "Sri Guru Nanak Dev Khalsa College",
            "Sri Guru Teg Bahadur Khalsa College",
            "Sri Venkateswara College",
            "St. Stephens's College",
            "Swami Shraddhanand College",
            "University College of Medical Science & Guru Teg Bahadur Hospital",
            "Vallabhbhai Patel Chest Institute",
            "Vivekananda College",
            "Zakir Husain College",
            "Zakir Husain P.G. Evening College",
            "Ahilya Bai College of Nursing",
            "Amar Jyoti Institute of Physiotheraphy",
            "Durgabai Deshmukh College of Special Education",
            "Pandit Deen Dayal Upadhaya Institute for the Physically Handicapped",
            "School of Rehabilitation Sciences"],
            "Jamia Millia Islamia University":["Jamia Millia Islamia University, Maulana Mohammed ali Jauhar Marg, New Delhi-110025"],
            "Jawahar Lal Nehru University":["Jawahar Lal Nehru University, New Mehrauli Road, New Delhi-110067"],
            "All India Institute of Medical Sciences":["All India Institute of Medical Sciences, Ansari Nagar, New Delhi-29"],
            "Jamia Hamdard University":["Jamia Hamdard University,Hamdard Nagar, New Delhi-62"],
            "National Institute of Technology":["National Institute of Technology, Sector-9 Dwarka, New Delhi-77"],
            "South Asian University":["South Asian University, Akbar Bhawan Chankaya Puri, New Delhi-67"],
            "Indian Institute of Technology":["Indian Institute of Technology, Hauz khas, New Delhi-16"],
        "Indira Gandhi National Open University": ["Indira Gandhi National Open University,Maidan Garhi,New Delhi-68"],
            "National School of Drama":["National School of Drama(NSD), Bswalpur House, 1,Bhagwan Das Road, New Delhi-110001"],
            "National Institute of Fashion Technology":["National Institute of Fashion Technology (NIFT), NIFT Campus, Hauz Khas, Newr Gulmohar Park, New Delhi-110016"],
            "National Museum Institute of History of Art, Conservation & Museology":["National Museum Institute of History of Art, Conservation & Museology, National Museum, New delhi-110001"],
            "National University of Education, Planning an Administration(NUEPA)":["National University of Education, Planning an Administration(NUEPA), 17-B, Sri Arobindo Marg, New Delhi-1100016"],
            "Teri School of Advanced Studies":["Teri School of Advanced Studies, Darbari Seth Block, Habitat Place, Lodhi Road, New Delhi-110003"],
            "Shri Lal Bahadr Shastri Rashtriya Sanskrit Vidyapith":["Shri Lal Bahadr Shastri Rashtriya Sanskrit Vidyapith, Kathvaria Sarai, New Meharauli Road, New Delhi-110067"],
            "School of Planning and Architectre (SPA)":["School of Planning and Architectre (SPA), I.P Estate, New Delhi-110002"],
            "Indian Agriculture Research Institute":["Indian Agriculture Research Institute (Krishi PUSA), PUSA, New Delhi"],
            "Rashtriya Sanskrit Sansthan":["Rashtriya Sanskrit Sansthan,56-57,Institutional Area,D-Block, Janak Puri, New Delhi-1100058"],
            "Indian Law Institute (ILI)":["Indian Law Institute (ILI), Bhagwandass Road, New Delhi-110001."],
            "Institute of Liver and Biliary Sciences (ILBS)":["Institute of Liver and Biliary Sciences (ILBS), D-1, Vasant Kunj, New Delhi-110070"],
            "Indian Institute of Foreign Trade (IIFT)":["Indian Institute of Foreign Trade (IIFT), IIFT, B-21, Qutub Institutional Area, New Delhi-110016"],
        "अन्य": []
    };

    // Courses and their streams
    const courseData = {
        "Engineering": [
        "Computer Science Engineering",
        "Mechanical Engineering",
        "Civil Engineering",
        "Electrical Engineering",
        "Electronics and Communication",
        "Aerospace Engineering",
        "Chemical Engineering",
        "Biomedical Engineering",
        "Environmental Engineering",
        "Information Technology"
        ],
        "Medical": [
        "MBBS", "BDS", "BPT", "BAMS", "BHMS", "BUMS", "BSc Nursing",
        "Pharmacy", "MD", "MS"
        ],
        "Arts": ["BA in English", "BA in History","BA in Political Science",
            "BA in Psychology",
            "BA in Sociology",
            "BA in Philosophy",
            "BA in Economics",
            "BA in Geography",
            "BA in Anthropology",
            "BA in Journalism"
            ],"Science": [
            "BSc in Physics",
            "BSc in Chemistry",
            "BSc in Biology",
            "BSc in Mathematics",
            "BSc in Biotechnology",
            "BSc in Environmental Science",
            "BSc in Microbiology",
            "BSc in Statistics",
            "MSc in Physics",
            "MSc in Chemistry"
        ],
        "Commerce": [
            "BCom",
            "BCom (Hons)",
            "BBA",
            "MCom",
            "CA",
            "CMA",
            "CS",
            "Diploma in Banking",
            "BCom in Taxation",
            "BCom in Accounting"
        ],
        "Law": [
            "LLB",
            "BA LLB",
            "BBA LLB",
            "LLM",
            "Diploma in Cyber Law",
            "Diploma in Corporate Law"
        ],
        "Management": [
            "MBA",
            "BBA",
            "PGDM",
            "Executive MBA",
            "Diploma in Management",
            "MMS"
        ],
        "Education": [
            "B.Ed",
            "M.Ed",
            "Diploma in Elementary Education",
            "Bachelor of Physical Education"
        ],
        "Computer Applications": [
            "BCA",
            "MCA",
            "Diploma in Computer Applications",
            "PGDCA"
        ],
        "Design": [
            "B.Des",
            "M.Des",
            "Diploma in Fashion Design",
            "Diploma in Graphic Design"
        ],
    };
     // Professional categories data structure
    const professionalCategories = {
        "Professionals": {
            "Medical Professionals": [
                "Doctors","Surgeons","Dentists","Physiotherapists","Psychiatrists"
            ],
            "Engineering Professionals": [
                "Civil Engineer",
                "Mechanical Engineer",
                "Electrical Engineer",
                "Software Engineers"
            ],
            "Legal Professionals": [
                "Lawyers",
                "Judges",
                "Legal Consultants"
            ],
            "Finance Professionals": [
                "Chartered Accountants (CA)",
                "Financial Analysts",
                "Auditors"
            ],
            "Education Professionals": [
                "Teachers",
                "Professors",
                "Education Consultants"
            ],
            "IT Professionals" :[
            "Software Developers","System Analysts","Cybersecurity Experts"
            ] ,
            "Design Professionals" :[
                "Architects",
                "Interior Designers",
                "Graphic Designers"
            ],
            "Media & Communication" :["Journalists", "Anchors","Public Relations Officers"],
            "Art & Culture" :[
                "Musicians","Painters",
                "Dancers",
                "Writers"
            ],
            "Management Professionals":[
                "HR Managers",
                "Operations Managers",
                "Marketing Professionals"
            ]

        },
        "Industrialists":["Textile Industrialists","Steel and Iron Industrialists", "Chemical Industry","Pharmaceutical Industrialists","Automobile Industrialists", "Cement and Construction Material Industrialists" , "FMCG Industrialists (Fast-Moving Consumer Goods)"
            ,"Petrochemical Industrialists","IT and Software Industrialists","Renewable Energy Industrialists","Aerospace and Defense Industrialists","Agro-based Industrialists (Fertilizers, Agro-equipment, Processing)"],
        "Businesses": {
            "By Industry": [
                "Manufacturing (factories, plants)",
                "Service (consultancy, education, healthcare)",
                "Trading (import/export, wholesale, retail)",
                "Agriculture & Allied (farming, fisheries, dairy)",
                "Technology & IT (software services, app development)",
                "Financial Services (banks, NBFCs, insurance firms)",
                "E-commerce (online retail, platforms)",
                "Real Estate & Construction",
                "Tourism & Hospitality (hotels, travel agencies)",
                "Entertainment & Media (film, music, OTT)"
            ],
        }
    };

    let isFirst = true;
    updateShikshanFields();

    // Initialize checkboxes
    // function initializeCheckboxes(fieldIds, selectedValues) {
    //     fieldIds.forEach(id => {
    //         const checkbox = document.getElementById(id);
    //         if (checkbox && selectedValues.includes(checkbox.value)) {
    //             checkbox.checked = true;
    //             if(id === "shrung"){
    //                 const ids = ['turya', 'swarad', 'nagang', 'gomukh', 'other'];

    //                 for (const id of ids) {
    //                 const container = document.getElementById(`${id}-container`);
    //                 if (container) {
    //                     container.classList.remove('hidden-checkbox');
    //                 }
    //                 }
    //             }
               
    //         }
    //     });
    // }
    function initializeCheckboxes(fieldIds, selectedValues) {
        const relatedIds = ['turya', 'swarad', 'nagang', 'gomukh', 'other'];
        const selectedSet = new Set(selectedValues); 
        fieldIds.forEach(id => {
            const checkbox = document.getElementById(id);
            if (!checkbox) return; 
            if (selectedSet.has(checkbox.value)) {
                checkbox.checked = true;
                if (id === 'shrung') {
                    relatedIds.forEach(relatedId => {
                        const container = document.getElementById(`${relatedId}-container`);
                        container?.classList.remove('hidden-checkbox');
                    });
                }
            }
        });
    }

    // Initialize radio buttons
    function initializeRadioButtons(name, selectedValue) {
        const radios = document.querySelectorAll(`input[name="${name}"]`);
        radios.forEach(radio => {
            if (radio.value === selectedValue) {
                radio.checked = true;
                if(radio.id === "learnShrung"){
                    const learnIds = ['learnTurya', 'learnSwarad', 'learnNagang', 'learnGomukh', 'learnOther'];

                    for (const id of learnIds) {
                        const container = document.getElementById(`${id}-container`);
                        if (container) {
                            container.classList.remove('hidden-checkbox');
                        }
                    }

                }
            }
        });
    }

    // Initialize single checkbox
    function initializeSingleCheckbox(id, value) {
        const checkbox = document.getElementById(id);
        if (checkbox) {
            checkbox.checked = value === 'true';
            // checkbox.dispatchEvent(new Event('change'));
        }
    }


    function newpopulateDropdown(field, options,placeholder) {

        let dropdown = document.getElementById(field);

        // Reset the dropdown
        dropdown.innerHTML = ""; // Clear all options

        // Add the placeholder option for the dropdown
        dropdown.innerHTML = `<option value="" disabled selected>${placeholder}</option>`;

        let first_options = [];
        let second_options = [];
        first_options = options[0] || ""; // First element (if exists)
        second_options = options[1] || ""; // Second element (if exists)

           
           if (first_options) {
              let defaultOption = document.createElement("option");
              defaultOption.value =first_options;
              defaultOption.textContent =first_options;
              defaultOption.selected = true;
              dropdown.appendChild(defaultOption);
           }
           if(second_options){
              second_options.forEach(option => {
              if(option != first_options && option.length > 0){
              const opt = document.createElement("option");
              opt.value = option;
              opt.textContent = fieldToHindiMapping[option] ? fieldToHindiMapping[option] : option;
              dropdown.appendChild(opt);
              }
           }); 
           }

     }
    let vividhsangathan = "{{form.vividhsangathan.value}}";
    let vividhsangathan_yes_no = "{{form.vividhsangathan_yes_no.value}}";
    if(vividhsangathan != "None" && vividhsangathan_yes_no !== "नहीं"){
      options = ["अखिल भारतीय विद्यार्थी परिषद", "विद्याभारती", "भारतीय शिक्षण मंडल","अखिल भारतीय शैक्षिक महासंघ", "संस्कृत भारती", "शिक्षा संस्कृति उत्थान न्यास", "वनवासी कल्याण आश्रम", "विश्व हिन्दू परिषद्", "भारतीय जनता पार्टी", "राष्ट्रीय सिक्ख संगत", "क्रीडा भारती", "संस्कार भारती", "सक्षम",
            "आरोग्य भारती", "एन्. एम्. ओ. (नैशनल मैडिकल आर्गेनाइजेशन)"
            ];
        newpopulateDropdown("vividhSangathan", [vividhsangathan,options], "विविध संगठन");
        document.getElementById("vividhSangathan").style.display = "block";
    }
     let isFirstTime = true;

    function initializeSanghPart1(){
        let addresspincode = "{{form.address_pincode.value}}";
        let addressstate = "{{form.address_state.value}}";
        let addressnagar = "{{form.nagar_address.value}}";
        let profession = "{{form.profession.value}}";
        let university = "{{form.affilated_by.value}}";
        let institute_name = "{{ form.institute_name.value }}";
        let category_name = "{{ form.category_name.value }}";
        let course_name = "{{ form.course_name.value }}";
        let profession_type = "{{ form.profession_type.value }}";
        let profession_subtype = "{{ form.profession_subtype.value }}";

        let pincode = "{{form.pincode.value}}";
        let nagar = "{{form.nagar.value}}";
        // राज्य
        let state = "{{ form.state.value }}";


        // रेजिडेंशियल कॉलोनी (ब्लॉक/गली)
        let upbasti = "{{ form.ekai_upbasti.value }}";
        // दायित्व की इकाई
        let ekai = "{{ form.ekai.value }}";
        // Dayitva Selection
        let dayitv = "{{ form.dayitv.value }}";
        //दायित्व का प्रान्त
        let prants = "{{ form.prant.value }}";
        //दायित्व का विभाग
        let vibhag = "{{ form.vibhag.value }}";
        //दायित्व का जिला
        let jila = "{{ form.jila.value }}";
        //दायित्व का नगर
        let ekainagar = "{{ form.ekai_nagar.value }}";
        //दायित्व का मंडल
        let mandal = "{{ form.ekai_mandal.value }}";
        //दायित्व की बस्ती
        let basti = "{{ form.ekai_basti.value }}";
        //शाखा / मिलन
        let sakhamilan = "{{ form.ekai_sakha_milan.value }}";
       

        let options = [];
        if(pincode){
            document.getElementById("pincode").value = pincode;
        }

        if (addresspincode != "None" && addressnagar != "None" && mappings.pincodeToNagar[addresspincode]) {
            newpopulateDropdown("address_nagar", [addressnagar, mappings.pincodeToNagar[addresspincode]], "नगर"); 
        }
        if (addresspincode!= "None"  && addressstate != "None" && mappings.pincodeToState[addresspincode]) {
            newpopulateDropdown("address_state", [addressstate, mappings.pincodeToState[addresspincode]], "राज्य"); 
        }
        if(profession === "कॉलेज-विद्यार्थी"){
            newpopulateDropdown("university",[university, Object.keys[universityData]],"");
            newpopulateDropdown("institute",[institute_name, universityData[institute_name]],"");
            newpopulateDropdown("course",[category_name, Object.keys[courseData]],"");
            newpopulateDropdown("stream",[course_name, courseData[category_name]],"");
        }else{
            newpopulateDropdown("professionals_name", [profession_type, ["Professionals", "Industrialists", "Businesses"]], "");
           updateSubCategories();
        }

        if (pincode != "None" && nagar != "None" && mappings.pincodeToNagar[pincode]) {
            newpopulateDropdown("nagar", [nagar, mappings.pincodeToNagar[pincode]], "नगर"); 
            console.log("nagar");
            document.getElementById("nagar-container").style.display = "block";
        }
        if (state != "None" && pincode && mappings.pincodeToNagar[pincode]) {
            newpopulateDropdown("state", [state, mappings.pincodeToState[pincode]], "राज्य"); 
            document.getElementById("state-container").style.display = "block";
        }
        if (nagar!= "None"  && upbasti!= "None"  ) {
            let mandals = mappings.nagarToMandal[nagar] || [];
            options = mandals.flatMap(mandal => mappings.mandalToBasti[mandal] || []);
            newpopulateDropdown("upbasti", [upbasti,options], "उपबस्ती");
            console.log("upbasti");
            document.getElementById("upbasti-container").style.display = "block";
        }
    
        if(upbasti!= "None"  && ekai!= "None" ){
            options = ["प्रांत", "विभाग", "जिला", "नगर", "मंडल", "बस्ती", "शाखा / मिलन", "अखिलभारतीय", "क्षेत्र"];
            newpopulateDropdown("ekai", [ekai,options], "इकाई");
            document.getElementById("ekai-container").style.display = "block";
        }
        
        if(sakhamilan != "None" || ekai!= "None"){
            document.getElementById("sakha_milanCheckbox-container").style.display = "block";
            options = ["स्कूल विद्यार्थी","कॉलेज विद्यार्थी", "तरुण व्यवसायी", "प्रौढ़ व्यवसायी", "Young Professional", "प्राध्यापक", "अन्य" ,"अभी किसी शाखा/मिलन से नहीं जुड़े हैं"];
            if(sakhamilan){
                newpopulateDropdown("sakha_milan", [sakhamilan, options], "शाखा / मिलन");
            }else{
                populateDropdown("sakha_milan", options, "शाखा / मिलन");
            }
            document.getElementById("sakha_milan-container").style.display = "block";
        }
        let selectedJila = Object.keys(mappings.jilaToNagar).find(jila =>
            mappings.jilaToNagar[jila].includes(nagar)
        );

        let selectedVibhag = Object.keys(mappings.VibhagToJila).find(vibhag =>
            mappings.VibhagToJila[vibhag].includes(selectedJila)
        );
        let selectedPrant = Object.keys(mappings.prantToVibhag).find(prant =>
            mappings.prantToVibhag[prant].includes(selectedVibhag)
        );

        if(prants!= "None" || ekai === "प्रांत"){
            options = mappings["prant"];
            newpopulateDropdown("prant", [prants, options], "प्रांत");
            document.getElementById("prant-container").style.display = "block";
        }

        if(vibhag!= "None"|| ekai === "विभाग"){
            options = mappings.prantToVibhag[selectedPrant];
            newpopulateDropdown("vibhag", [vibhag, options], "विभाग");
            document.getElementById("vibhag-container").style.display = "block";
        }
        if(jila!= "None" || ekai === "जिला"){
            options = mappings.VibhagToJila[selectedVibhag];
            newpopulateDropdown("jila", [jila, options], "जिला");
            document.getElementById("jila-container").style.display = "block";
        }
        if(ekainagar!= "None" || ekai === "नगर"){
            options = mappings.pincodeToNagar[pincode];
            newpopulateDropdown("ekai_nagar", [ekainagar, options], "नगर");
            console.log("ekai", ekai);
            document.getElementById("ekai_nagar-container").style.display = "block";
        }
        if(mandal!= "None"|| ekai === "मंडल" ){
            options = mappings.nagarToMandal[nagar];
            newpopulateDropdown("mandal", [mandal, options], "मंडल");
            document.getElementById("mandal-container").style.display = "block";
        }
        if(basti!= "None" || ekai === "बस्ती"){
            let mandals = mappings.nagarToMandal[nagar] || [];
            options = mandals.flatMap(mandal => mappings.mandalToBasti[mandal] || []);
            newpopulateDropdown("basti", [basti, options], "");
            document.getElementById("basti-container").style.display = "block";
        }
        if(upbasti!= "None" || nagar !== "None"){
            let mandals = mappings.nagarToMandal[nagar] || [];
            let bastis = mandals.flatMap(mandal => mappings.mandalToBasti[mandal] || []);
            options = bastis.flatMap(basti => mappings.bastiToUpbasti[basti] || []);
            newpopulateDropdown("upbasti", [upbasti, options], "");
            document.getElementById("upbasti-container").style.display = "block";
        }
        if(dayitv!= "None" ){
            if(ekai === `${fieldToHindiMapping["sakha_milan"]}`){
            options = mappings.dayitvaMapping["shakha"];
            }
            else{
            options = mappings.dayitvaMapping[`${hindiToEnglishMapping[ekai]}`];
            }
            newpopulateDropdown("dayitva", [dayitv, options], "दायित्व");
            document.getElementById("dayitva-container").style.display = "block";
        }
    }


    initializeSanghPart1();
        // घोष संबंधी जानकारी
        let shiksha = "{{ form.shiksha.value }}";
        let aarthik = "{{ form.aarthik.value }}";
        let dharmik = "{{ form.dharmik.value }}";
        let seva = "{{ form.seva.value }}";
        let swasthya = "{{ form.swasthya.value }}";
        let samajik = "{{ form.samajik.value }}";
        let sanskritik = "{{ form.sanskritik.value }}";
        let vaicharik = "{{ form.vaicharik.value }}";
        let suraksha = "{{ form.suraksha.value }}";
        let media = "{{ form.media.value }}";
      
        let ekai_milaan = "{{ form.ekai_milaan.value }}";
        let pratigya = "{{ form.pratigya.value }}";
        let ghosh_vadak = "{{ form.ghosh_vadak.value }}";
        let shankh = "{{ form.shankh.value }}";
        let shrung = "{{ form.shrung.value }}";
        let turya = "{{ form.turya.value }}";
        let swarad = "{{ form.swarad.value }}";
        let nagang = "{{ form.nagang.value }}";
        let gomukh = "{{ form.gomukh.value }}";
        let other = "{{ form.other.value }}";
        let aanak = "{{ form.aanak.value }}";
        let panav = "{{ form.panav.value }}";
        let jhallari = "{{ form.jhallari.value }}";
        let tribhuj = "{{ form.tribhuj.value }}";
        let shankh_shrung_own = "{{ form.shankh_shrung_own.value }}";
        let rachnaye = "{{ form.rachnaye.value }}";
        let learn_vadya = "{{ form.learn_vadya.value }}";
        let learn_vadya_list = "{{ form.learn_vadya_list.value }}";

        // गणवेश संबंधी जानकारी
        let sanghpant = "{{ form.sanghpant.value }}";
        let whiteshirt = "{{ form.whiteshirt.value }}";
        let sanghtopi = "{{ form.sanghtopi.value }}";
        let sanghpeti = "{{ form.sanghpeti.value }}";
        let jurab = "{{ form.jurab.value }}";
        let joote = "{{ form.joote.value }}";
        let dand = "{{ form.dand.value }}";
        const socialIds = ["shiksha", "aarthik", "dharmik", "seva", "swasthya", "samajik", "sanskritik", "vaicharik", "suraksha", "media"];

        const selectedInterests = [ shiksha, aarthik, dharmik, seva, swasthya, samajik, sanskritik, vaicharik, suraksha, media ].filter(val => val && val !== "None");
            initializeCheckboxes(socialIds, selectedInterests);

        if(vividhsangathan_yes_no != "None"){
            if(vividhsangathan_yes_no === "नहीं"){
                document.getElementById("vividhSangathan-container").style.display = "none";
            }
            initializeRadioButtons("vividhsangathan_yes_no", vividhsangathan_yes_no);
        }
        if(ekai_milaan !== "None"){
            initializeRadioButtons("ekai_milaan", ekai_milaan);
        }
        if(pratigya !== "None"){
            initializeRadioButtons("pratigya", pratigya);
        }

    // घोष संबंधी जानकारी
    if (ghosh_vadak !== "None") {
        initializeRadioButtons("ghosh_vadak", ghosh_vadak);

        const ghoshVadakYesContainer = document.getElementById("ghoshVadakYes-container");
        const ghoshVadakNoContainer = document.getElementById("ghoshVadakNo-container");

        if (ghosh_vadak === "हाँ") {
            ghoshVadakYesContainer.style.display = "block";
            ghoshVadakNoContainer.style.display = "none";

            // Initialize instrument checkboxes
            const instrumentIds = [
                "shankh", "shrung", "turya", "swarad", "nagang",
                "gomukh", "other", "aanak", "panav", "jhallari", "tribhuj"
            ];
            const selectedInstruments = [
                shankh, shrung, turya, swarad, nagang,
                gomukh, other, aanak, panav, jhallari, tribhuj
            ].filter(val => val && val !== "None");
            initializeCheckboxes(instrumentIds, selectedInstruments);
            document.getElementById("shankhShrungOwn-container").style.display = "none";
            if(shrung === "None"){
              document.getElementById("shankhShrungOwn-container").style.display = "block";
              initializeRadioButtons("shankh_shrung_own", shankh_shrung_own);
            }
            if (rachnaye !== "None") {
                initializeRadioButtons("rachnaye", rachnaye);
            }
        } else {
            ghoshVadakYesContainer.style.display = "none";
            ghoshVadakNoContainer.style.display = "block";

            // Initialize learn_vadya radio buttons
            if (learn_vadya !== "None") {
                initializeRadioButtons("learn_vadya", learn_vadya);

                const learnVadyaListContainer = document.getElementById("learnVadyaList-container");
                if (learn_vadya === "हाँ") {
                    learnVadyaListContainer.style.display = "block";
                    if (learn_vadya_list !== "None") {
                        initializeRadioButtons("learn_vadya_list", learn_vadya_list);
                    }
                } else {
                    learnVadyaListContainer.style.display = "none";
                }
            }
        }
    }

    // गणवेश संबंधी जानकारी
    const ganveshIds = [
        "sanghPant", "safedKameez", "sanghTopi", "sanghPeti",
        "jurab", "joote", "dand"
    ];
    const selectedGanvesh = [
        sanghpant, whiteshirt, sanghtopi, sanghpeti,
        jurab, joote, dand
    ].filter(val => val && val !== "None");
    initializeCheckboxes(ganveshIds, selectedGanvesh);

  //******/ particle animation background js *******
    const particlesContainer = document.getElementById('particles');
    const particles = [];
    const numParticles = 200;

    class Particle {
        constructor() {
            this.element = document.createElement('span');
            this.element.className = 'particle';
            this.size = Math.random() * 4 + 2; // Increased size range: 2px to 6px
            this.element.style.width = `${this.size}px`;
            this.element.style.height = `${this.size}px`;
            particlesContainer.appendChild(this.element);
            this.width = window.innerWidth;
            this.height = document.body.scrollHeight;
            this.x = Math.random() * this.width;
            this.y = Math.random() * this.height;
            this.speedX = Math.random() * 2 - 1;
            this.speedY = Math.random() * 2 - 1;
            this.updatePosition();
        }

        updatePosition() {
            this.element.style.left = `${this.x}px`;
            this.element.style.top = `${this.y}px`;
        }

        update() {
            this.x += this.speedX;
            this.y += this.speedY;

            // Bounce off boundaries, accounting for particle size
            if (this.x < 0 || this.x > this.width - this.size) this.speedX *= -1;
            if (this.y < 0 || this.y > this.height - this.size) this.speedY *= -1;

            this.updatePosition();
        }
    }

    function updateContainerSize() {
        const width = window.innerWidth;
        const height = document.body.scrollHeight;
        particlesContainer.style.height = `${height}px`;
        return { width, height };
    }

    function init() {
        particles.length = 0;
        particlesContainer.innerHTML = ''; 
        const { width, height } = updateContainerSize();
        for (let i = 0; i < numParticles; i++) {
            const particle = new Particle();
            particle.width = width;
            particle.height = height;
            particles.push(particle);
        }
    }

    function animate() {
        particles.forEach(particle => particle.update());
        requestAnimationFrame(animate);
    }

    init();
    animate();
    window.addEventListener('resize', () => {
        const { width, height } = updateContainerSize();
        particles.forEach(particle => {
            particle.width = width;
            particle.height = height;
            if (particle.x > width - particle.size) particle.x = Math.random() * width;
            if (particle.y > height - particle.size) particle.y = Math.random() * height;
        });
    });
    const resizeObserver = new ResizeObserver(() => {
        init();
    });
    resizeObserver.observe(document.body);

    //Sangh sikhshan js
    const shikshanSelect = document.getElementById('sangh_shikshan_level');
    shikshanSelect.addEventListener('change', updateShikshanFields);
    
    // Function to update shikshan fields
    function updateShikshanFields() {
        const pratigyaContainer = document.getElementById("pratigyaCheckbox-container");
        const pratigyaYes = document.getElementById("pratigyaCheckboxYes");
        const pratigyaNo = document.getElementById("pratigyaCheckboxNo");
        const level = document.getElementById("sangh_shikshan_level").value;
        const container = document.getElementById("shikshan-details-container");
        container.innerHTML = "";

        if (level === 'कोई शिक्षण नहीं हुआ' || level === 'प्रारम्भिक वर्ग' || level === 'प्राथमिक वर्ग' || level === 'संघ शिक्षा वर्ग / प्रथम वर्ष') {
            pratigyaContainer.style.display = "block";
            if (pratigyaYes.checked || pratigyaNo.checked) {
                pratigyaYes.checked = false;
                pratigyaNo.checked = false;
            }
        } else {
            pratigyaContainer.style.display = "none";
            pratigyaYes.checked = false;
            pratigyaNo.checked = false;
        }
        if (level === 'कोई शिक्षण नहीं हुआ') {
            container.style.display = 'none';
            return;
        }
        container.style.display = "block";
        const fieldsToCreate = [];

            if (level === 'कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष') {
        fieldsToCreate.push(
            { type: 'tritiya', label: 'कार्यकर्ता विकास वर्ग 2 / तृतीय वर्ष' },
            { type: 'dwitiya', label: 'कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष' },
            { type: 'pratham', label: 'संघ शिक्षा वर्ग / प्रथम वर्ष' },
            { type: 'prathmik', label: 'प्राथमिक वर्ग' },
            { type: 'prarambhik', label: 'प्रारम्भिक वर्ग' },   
        );
        } else if (level === 'कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष') {
            fieldsToCreate.push(
                { type: 'dwitiya', label: 'कार्यकर्ता विकास वर्ग 1 / द्वितीय वर्ष' },
                { type: 'pratham', label: 'संघ शिक्षा वर्ग / प्रथम वर्ष' },
                { type: 'prathmik', label: 'प्राथमिक वर्ग' },
                { type: 'prarambhik', label: 'प्रारम्भिक वर्ग' },     
            );
        } else if (level === 'संघ शिक्षा वर्ग / प्रथम वर्ष') {
            fieldsToCreate.push(
                { type: 'pratham', label: 'संघ शिक्षा वर्ग / प्रथम वर्ष' },
                { type: 'prathmik', label: 'प्राथमिक वर्ग' },
                { type: 'prarambhik', label: 'प्रारम्भिक वर्ग' },
                
            );
        } else if (level === 'प्राथमिक वर्ग') {
            fieldsToCreate.push(
                { type: 'prathmik', label: 'प्राथमिक वर्ग' },
                { type: 'prarambhik', label: 'प्रारम्भिक वर्ग'}
            );
        } else if (level === 'प्रारम्भिक वर्ग') {
            fieldsToCreate.push(
                { type: 'prarambhik', label: 'प्रारम्भिक वर्ग' },
            );
        }
        const fieldset = document.createElement("div");
        fieldset.className = "shikshan-fieldset mb-4";

        const row = document.createElement("div");
        row.className = "row";
        let minYear = 1950;
        const currentYear = new Date().getFullYear();
        const formValues = {
            tritiya: "{{ form.tritiya_varsh.value }}" || "",
            dwitiya: "{{ form.dwitiya_varsh.value }}" || "",
            pratham: "{{ form.pratham_varsh.value }}" || "",
            prathmik: "{{ form.prathmik_varsh.value }}" || "",
            prarambhik: "{{ form.prarambhik_varsh.value }}" || "",
        };
        
        const years = [];
        for (let year = currentYear; year >= minYear; year--) {
            years.push(year.toString());
        }

        fieldsToCreate.forEach((field) => {
            const yearCol = document.createElement("div");
            yearCol.className = "col-md-6 mb-3 dropdown";
            yearCol.id = `${field.type}_year-container`;

            const yearLabel = document.createElement("label");
            yearLabel.className = "form-label";
            yearLabel.style.cssText =
            "font-size: 16px !important; font-weight: 600; color: #333;";
            if (field.type !== "prarambhik") {
                yearLabel.innerHTML = `${field.label}<span class="text-danger"> *</span>`;
            } else {
                yearLabel.textContent = field.label;
            }
            yearLabel.htmlFor = `${field.type}_year`;

            yearCol.appendChild(yearLabel);

            const yearSelect = document.createElement("select");
            yearSelect.id = `${field.type}_year`;
            yearSelect.name = `${field.type}_varsh`;
            yearSelect.className = "form-control";

            yearCol.appendChild(yearSelect);

            const yearError = document.createElement("small");
            yearError.className = "text-danger";
            yearError.id = `${field.type}_yearError`;
            yearError.style.cssText = "display: none; font-size: 12px !important;";
            yearError.textContent ="Please select year";
            yearCol.appendChild(yearError);

            yearSelect.addEventListener('change', function () {
                if (yearSelect.value) {
                    hideError(`${field.type}_year`);
                }
            });
            row.appendChild(yearCol);
            fieldset.appendChild(row);
            container.appendChild(fieldset);
            const selectedYear = formValues[field.type];
            if (selectedYear && selectedYear !== "None" && isFirst) {
            newpopulateDropdown(`${field.type}_year`, [selectedYear, years], "example: YYYY");
            } else {
            newpopulateDropdown(`${field.type}_year`, ["", years], "example: YYYY");
            }
        });
        isFirst = false;
    }
   
   
    // ********************************Ghosh jankari  Java Script *************************
  
    // Toggle visibility of containers and reset checkboxes for ghosh_vadak
    document.querySelectorAll('input[name="ghosh_vadak"]').forEach(function (radio) {
        radio.addEventListener('change', function () {
            document.querySelectorAll('#ghoshVadakYes-container input[type="checkbox"]').forEach(function (checkbox) {
                checkbox.checked = false;
                if (['turya', 'swarad', 'nagang', 'gomukh', 'other'].includes(checkbox.id)) {
                    checkbox.parentElement.style.display = 'none';
                }
            });

            document.querySelectorAll('input[name="rachnaye"]').forEach(function (radio) {
                radio.checked = false;
            });
            document.getElementById("shankhShrungOwn-container").style.display = "block";
            document.querySelectorAll('input[name="shankh_shrung_own"]').forEach(function (radio) {
                radio.checked = false;
            })
            document.querySelectorAll('input[name="learn_vadya"]').forEach(function (radio) {
                radio.checked = false;
            });
            if (this.value === 'हाँ') {
                document.getElementById('ghoshVadakYes-container').style.display = 'block';
                document.getElementById('ghoshVadakNo-container').style.display = 'none';
            } else {
                document.getElementById('ghoshVadakYes-container').style.display = 'none';
                document.getElementById('ghoshVadakNo-container').style.display = 'block';
            }
            handleLearnVadya();
        });
    });

   // Function to handle learn_vadya visibility and checkbox reset
    function handleLearnVadya() {
        document.querySelectorAll('input[name="learn_vadya_list"]').forEach(function (checkbox) {
            checkbox.checked = false;
        });
        const selectedLearnVadya = document.querySelector('input[name="learn_vadya"]:checked');
        if (selectedLearnVadya && selectedLearnVadya.value === 'हाँ') {
            document.getElementById('learnVadyaList').style.display = 'block';
            document.getElementById('learnVadyaList-container').style.display = 'block';       
        } else {
            document.getElementById('learnVadyaList').style.display = 'none';
            document.getElementById('learnVadyaList-container').style.display = 'none';
        }
    }
    // Add event listeners for learn_vadya
    document.querySelectorAll('input[name="learn_vadya"]').forEach(function (radio) {
        radio.addEventListener('change', handleLearnVadya);
    });
    
    // Reusable function to toggle visibility and reset dependent checkboxes
    function toggleDependentCheckboxes(checkboxId, dependentIds) {
        const mainCheckbox = document.getElementById(checkboxId);
        if (!mainCheckbox) {
            return;
        }
        mainCheckbox.addEventListener('change', function () {
            dependentIds.forEach(function (id) {
                const checkbox = document.getElementById(id);
                if (checkbox) {
                    checkbox.parentElement.style.display = this.checked ? 'block' : 'none';
                    if (!this.checked) {
                        checkbox.checked = false; 
                    }
                } 
            }, this);
        });
    }

    // Apply toggle functionality for shrung and learnShrung
    toggleDependentCheckboxes('shrung', ['turya', 'swarad', 'nagang', 'gomukh', 'other']);
    toggleDependentCheckboxes('learnShrung', ['learnTurya', 'learnSwarad', 'learnNagang', 'learnGomukh', 'learnOther']);
    document.getElementById('shrung').addEventListener('change', function () {
        const container = document.getElementById("shankhShrungOwn-container");
        if(this.checked){
            container.style.display = "none";
        }else{
            container.style.display = "block";
        }
        const checkboxesToShow = ['turya', 'swarad', 'nagang', 'gomukh', 'other'];
        checkboxesToShow.forEach(function (id) {
            const checkbox = document.getElementById(id);
            if (checkbox) {
                checkbox.parentElement.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    checkbox.checked = false;
                }
            } 
        }, this);
    });
        //basic js
        const dobInput = document.getElementById('dob');
        function openDatePicker(event) {
            if (dobInput) {
                if (typeof dobInput.showPicker === 'function') {
                    dobInput.showPicker();
                } else {
                    dobInput.focus();
                }
            }
        }
        function setMaxDate() {
            const today = new Date();
            const year = today.getFullYear()- 10;
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const formattedDate = `${year}-${month}-${day}`;
            if (dobInput) {
                dobInput.setAttribute('max', formattedDate); 
            }
        }
        if (dobInput) {
            dobInput.addEventListener('focus', openDatePicker);  
            dobInput.addEventListener('click', openDatePicker); 
            setMaxDate();
        }
        let referralCode = document.getElementById("referralCode");  
        if (vividhsangathan_yes_no == "None" || vividhsangathan_yes_no === "नहीं") {
            referralCode.value = "1925";
        } 

    document.getElementById("referralCode").addEventListener("input", function () {
        const referralCodeError = document.getElementById("referralCodeError");
        this.value = this.value.replace(/[^a-zA-Z0-9]/g, '');
        if (!(/^[A-Z]+$/i.test(this.value) || /^[0-9]+$/.test(this.value))) {
            referralCodeError.style.display = "block"; 
        } else {
            referralCodeError.style.display = "none"; 
        }
    });
   
    function populateDropdown(field, options, placeholder) {
        const dropdown = document.getElementById(field);
        dropdown.innerHTML = `<option value="" disabled selected>${placeholder}</option>`;

        const addOption = (value, text = value) => {
            const option = document.createElement("option");
            const mappedValue = fieldToHindiMapping[value] || value;
            option.value = mappedValue;
            option.textContent = mappedValue;
            dropdown.appendChild(option);
        };

        const fieldConfigs = {
            prant: {
                defaultOption: options[0],
                additionalOptions: Array.isArray(options[1]) ? options[1] : [options[1]]
                    .filter(opt => opt && opt !== options[0])
            },
            vibhag: {
                defaultOption: options[0],
                additionalOptions: (Array.isArray(options[1]) ? options[1] : [options[1]])
                    .flatMap(prant => mappings.prantToVibhag[prant] || [])
                    .filter(opt => opt && opt !== options[0])
            },
            jila: {
                defaultOption: options[0],
                additionalOptions: (Array.isArray(options[1]) ? options[1] : [options[1]])
                    .flatMap(vibhag => mappings.VibhagToJila[vibhag] || [])
                    .filter(opt => opt && opt !== options[0])
            },
            ekai_nagar: {
                defaultOption: options[0],
                additionalOptions: (mappings.pincodeToNagar[options[1]] || [])
                    .filter(opt => opt && opt !== options[0])
            }
        };

        if (fieldConfigs[field]) {
            const { defaultOption, additionalOptions } = fieldConfigs[field];
            if (defaultOption) {
                const option = document.createElement("option");
                const mappedValue = fieldToHindiMapping[defaultOption] || defaultOption;
                option.value = mappedValue;
                option.textContent = mappedValue;
                option.selected = true;
                dropdown.appendChild(option);
            }
            additionalOptions.forEach(addOption);
            return;
        }
        const validOptions = Array.isArray(options) ? options : [options];
        validOptions.filter(opt => opt && opt.length > 0).forEach(addOption);
    }


    function resetDropdowns(field) {
        const resetMappings = {
            referralCode: ["profession", "pincode", "prant", "vibhag", "jila", "ekai_nagar", "mandal", "basti", "sakha_milan", "dayitva", "state", "ekai"],
            pincode: ["nagar", "ekai_nagar", "mandal", "basti", "sakha_milan", "state", "ekai", "dayitva", "prant", "vibhag", "jila"],
            address_pincode: ["address_nagar", "address_state"],
            profession:["university", "institute", "course", "stream", "professionals_name", "sub_category_type"],
            ekai: ["prant", "vibhag", "jila", "ekai_nagar", "mandal", "basti", "sakha_milan", "sakha_milanCheckbox", "dayitva"],
            nagar: ["ekai", "prant", "vibhag", "jila", "ekai_nagar", "upbasti", "dayitva"],
            mandal: ["mandal", "dayitva"],
            basti: ["basti", "dayitva"],
            sakha_milan: ["sakha_milan", "sakha_milanCheckbox", "dayitva"],
            ekai_nagar: ["ekai_nagar", "dayitva"],
            vividhSangathan: ["pincode", "dayitva", "nagar", "state"],
            vividhCheckbox:["vividhSangathan"]
        };
        function resetDropdown(dropdownId) {
            if (dropdownId === "pincode") {
                document.getElementById("pincode").value = "";
                const selectedValue = document.querySelector('input[name="vividhsangathan_yes_no"]:checked')?.value;
                if(selectedValue === "हाँ" ){
                    toggleVisibility("pincode");                   
                }
            } else if (dropdownId === "sakha_milanCheckbox") {
                let yesRadio = document.getElementById("sakha_milanCheckboxYes");
                let noRadio = document.getElementById("sakha_milanCheckboxNo");          
                if (yesRadio.checked || noRadio.checked) {
                    yesRadio.checked = false;
                    noRadio.checked = false;
                }               
            }else{
                populateDropdown(dropdownId, [], dropdownId);
            }
        }
        if (resetMappings[field]) {
            resetMappings[field].forEach(resetDropdown);
        }
    }



    function handleDropdownChange(field, options) {
        resetDropdowns(field);
        toggleVisibility(field);
        const selectedValue = document.getElementById(field).value;
        const referralCode = document.getElementById("referralCode").value.trim();
        if (referralCode === "1925") {
            document.getElementById("ekai-container").style.display = "block";
        }
        populateDropdown("ekai", selectedValue ? options : [], "इकाई");
    }

    document.getElementById("state").addEventListener("change", function () {
        handleDropdownChange("state", ["akhilbhartiya", "chetra"]);
    });

    document.getElementById("upbasti").addEventListener("change", function () {
        handleDropdownChange("upbasti", ["प्रांत", "विभाग", "जिला", "नगर", "मंडल", "बस्ती", "शाखा / मिलन", "अखिलभारतीय", "क्षेत्र"]);
    });

    document.getElementById("nagar").addEventListener("change", function () {
        resetDropdowns("nagar");
        toggleVisibility("nagar");
    });

    function toggleVisibility(field) {
        const allContainers = ["prant-container", "vibhag-container", "jila-container", "ekai_nagar-container", "mandal-container", "basti-container",
            "sakha_milanCheckbox-container", "sakha_milan-container", "dayitva-container", "state-container", "nagar-container", "ekai-container", "upbasti-container","educationHeading-container","professionHeading-container"
        ];
        if (field === "address_pincode") {
            const allContainers = ["address_state-container", "address_nagar-container"];
            allContainers.forEach(id => document.getElementById(id).style.display = "none");
        }else if(field === "profession"){
            const allContainers=["university-container","institute-container", "course-container","stream-container","professionals_name-container", "sub_category_type-container"];
            allContainers.forEach(id => document.getElementById(id).style.display = "none");
        } else {
            allContainers.forEach(id => document.getElementById(id).style.display = "none");
        }

        const referralCode = document.getElementById("referralCode").value.trim();
        const selectedPincode = document.getElementById("pincode").value.trim();
        const selectedAddressPincode = document.getElementById("address_pincode").value.trim();
        if (field === "pincode" && selectedPincode.length === 6) {
            toggleElement(mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container");
            populateDropdown(
                mappings.delhiPincodes.includes(selectedPincode) ? "nagar" : "state",
                mappings.delhiPincodes.includes(selectedPincode) ? mappings.pincodeToNagar[selectedPincode] || [] : mappings.pincodeToState[selectedPincode] || [],
                mappings.delhiPincodes.includes(selectedPincode) ? "नगर" : "राज्य"
            );
            return;
        }
        if (field === "address_pincode" && selectedAddressPincode.length === 6) {
            toggleElement(mappings.delhiPincodes.includes(selectedAddressPincode) ? "address_nagar-container" : "address_state-container");
            populateDropdown(
                mappings.delhiPincodes.includes(selectedAddressPincode) ? "address_nagar" : "address_state",
                mappings.delhiPincodes.includes(selectedAddressPincode) ? mappings.pincodeToNagar[selectedAddressPincode] || [] : mappings.pincodeToState[selectedAddressPincode] || [],
                mappings.delhiPincodes.includes(selectedAddressPincode) ? "निवास का नगर" : "राज्य"
            );
            return;
        }if(field === "profession"){
            const professionValue = document.getElementById("profession").value;
            if (professionValue === 'कॉलेज-विद्यार्थी') {
                toggleElement("educationHeading-container");
                toggleElement("university-container");
                toggleElement("course-container");
            }else{
                toggleElement("professionHeading-container");
                toggleElement("professionals_name-container");
                toggleElement("sub_category_type-container");
            }
            return;
        }
        if (field === "nagar") {
            toggleElement("nagar-container");
            let selectedNagar = document.getElementById("nagar").value;
            let options = [];
            let mandals = mappings.nagarToMandal[selectedNagar] || [];
            let bastis = mandals.flatMap(mandal => mappings.mandalToBasti[mandal] || []);
            options = bastis.flatMap(basti => mappings.bastiToUpbasti[basti] || []);
            populateDropdown("upbasti", options, "उपबस्ती");
            toggleElement("upbasti-container");
            return;
        }
        if (field === "upbasti") {
            toggleElement("upbasti-container");
            toggleElement("nagar-container");
            return;
        }
        if (field === "ekai") {
            let selectedEkai = document.getElementById("ekai").value;
            selectedEkai = `${hindiToEnglishMapping[selectedEkai]}`;
            toggleElement(mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container");
            toggleElement("ekai-container");
            toggleElement("dayitva-container");
            toggleElement("sakha_milanCheckbox-container");
            toggleElement("sakha_milan-container");
            if (mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container" === "nagar-container") {
                toggleElement("upbasti-container");
            }
            return;
        }

        const toggleMap = {
            ekai: referralCode === "1925" ? ["ekai-container"] : [],
            state: ["state-container", referralCode === "1925" ? "ekai-container" : null].filter(Boolean),
            address_state: ["address_state-container"]
        };

        if (field === "dayitva" && referralCode === "1925") {

            if (mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container" === "nagar-container") {
                toggleElement("upbasti-container");
            }
            let ekai = document.getElementById("ekai").value;
            ekai = `${hindiToEnglishMapping[ekai]}`;
            toggleElement("dayitva-container");
            const ekaiMappings = {
                "prant": ["nagar-container", "ekai-container", "prant-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "vibhag": ["nagar-container", "ekai-container", "vibhag-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "jila": ["nagar-container", "ekai-container", "jila-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "ekai_nagar": ["nagar-container", "ekai-container", "ekai_nagar-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "akhilbhartiya": [mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container", "ekai-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "chetra": [mappings.delhiPincodes.includes(selectedPincode) ? "nagar-container" : "state-container", "ekai-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "mandal": ["nagar-container", "ekai-container", "mandal-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "basti": ["nagar-container", "ekai-container", "basti-container","sakha_milan-container", "sakha_milanCheckbox-container"],
                "sakha_milan": ["nagar-container", "ekai-container", "sakha_milan-container", "sakha_milanCheckbox-container"],
            };
            toggleMap[field] = ekaiMappings[ekai] || [];
        }
        (toggleMap[field] || []).forEach(toggleElement);
    }

    function toggleElement(elementId) {
        const element = document.getElementById(elementId);
        if (element.style.display === "none" || element.style.display === "") {
            element.style.display = "block";
        } else {
            element.style.display = "none";
        }
    }

    document.getElementById("dayitva").addEventListener("change", function () {
        toggleVisibility("dayitva");
    });
    
    function updateSubCategories() {
        const mainCategory = document.getElementById('professionals_name').value;
        const subCategorySelect = document.getElementById('sub_category_type');
        const profession_subtype = "{{form.profession_subtype.value}}";
        subCategorySelect.innerHTML = isFirstTime? `<option value="${profession_subtype}" disabled selected>${profession_subtype}</option>`: '<option value="" disabled selected>उप-श्रेणी चुनें</option>';
        isFirstTime = false;

        if (!mainCategory || !professionalCategories[mainCategory]) return;
        
        const categoryData = professionalCategories[mainCategory];
        
        if (mainCategory === "Industrialists") {
            categoryData.forEach(item => {
                const option = document.createElement('option');
                const parts = item.split(' (');
                option.value = parts[0]; 
                option.textContent = item;
                subCategorySelect.appendChild(option);
            });
        } 
        else {
            for (const [groupName, items] of Object.entries(categoryData)) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = groupName;              
                items.forEach(item => {
                    const option = document.createElement('option');
                    const parts = item.split(' (');
                    option.value = parts[0]; 
                    option.textContent = item;
                    optgroup.appendChild(option);
                });               
                subCategorySelect.appendChild(optgroup);
            }
        }
    }

    document.getElementById("professionals_name").addEventListener("change", function(){
        document.getElementById("sub_category_type").style.display = "block";
        updateSubCategories();
    })


    // Handle university selection
    document.getElementById('university').addEventListener('change', function () {
        const selectedUni = this.value;
        const otherInput = document.getElementById('otherUniversity-container');
        if (selectedUni === "अन्य") {
        otherInput.style.display = 'block';
        document.getElementById("institute-container").style.display = "none";
        } else {
        otherInput.style.display = 'none';
        document.getElementById("institute-container").style.display = "block";
        populateDropdown("institute", universityData[selectedUni] || [], "संस्थान");
        }
    });
    // Handle course selection
    document.getElementById('course').addEventListener('change', function () {
        const selectedCourse = this.value;
        document.getElementById("stream-container").style.display = "block";
        populateDropdown("stream",courseData[selectedCourse] || [], "स्ट्रीम");
    });
     //profession change handle
    document.getElementById('profession').addEventListener('change', function () {
        resetDropdowns("profession");
        toggleVisibility("profession");
        const professionValue = this.value;
        if (professionValue === 'कॉलेज-विद्यार्थी') {
            populateDropdown("university", Object.keys(universityData), "विश्वविद्यालय");
            populateDropdown("course", Object.keys(courseData), "कोर्स");
        } else {
            populateDropdown("professionals_name", ["Professionals","Industrialists","Businesses"], "व्यावसायिक");
        }
    });

      document.getElementById("ekai").addEventListener("change", function () {
        resetDropdowns("ekai");
        toggleVisibility("ekai");
        let selectedEkai = `${hindiToEnglishMapping[this.value]}`;
        let selectedNagar = document.getElementById("nagar").value;
        let selectedPincode = document.getElementById("pincode").value;
        let selectedUpbasti = document.getElementById("upbasti").value;

        let selectedJila = Object.keys(mappings.jilaToNagar).find(jila =>
            mappings.jilaToNagar[jila].includes(selectedNagar)
        );

        let selectedVibhag = Object.keys(mappings.VibhagToJila).find(vibhag =>
            mappings.VibhagToJila[vibhag].includes(selectedJila)
        );

        let selectedPrant = Object.keys(mappings.prantToVibhag).find(prant =>
            mappings.prantToVibhag[prant].includes(selectedVibhag)
        );

        let selectedNagars = mappings.pincodeToNagar[selectedPincode] || [];

        const selectedJilas = Object.keys(mappings.jilaToNagar).filter(jila =>
            mappings.jilaToNagar[jila].some(nagar => selectedNagars.includes(nagar))
        );
        const selectedVibhags = Object.keys(mappings.VibhagToJila).filter(vibhag =>
            mappings.VibhagToJila[vibhag].some(jila => selectedJilas.includes(jila))
        );
        const selectedPrants = Object.keys(mappings.prantToVibhag).filter(prant =>
            mappings.prantToVibhag[prant].some(vibhag => selectedVibhags.includes(vibhag))
        );


        if (selectedEkai === "prant") {

            populateDropdown("prant", [selectedPrant], "प्रांत");
        } else if (selectedEkai === "vibhag") {
            populateDropdown("vibhag", [selectedVibhag, selectedPrant], "विभाग");
        } else if (selectedEkai === "jila") {
            populateDropdown("jila", [selectedJila, selectedVibhags], "जिला");
        }
        else if (selectedEkai === "ekai_nagar") {
            populateDropdown("ekai_nagar", [selectedNagar, selectedPincode], "नगर");
        } else if (["mandal", "basti", "sakha_milan"].includes(selectedEkai)) {
            let options = [];
            options = mappings.pincodeToNagar[selectedPincode] || [];
            if (selectedEkai === "mandal") {
                options = mappings.nagarToMandal[selectedNagar] || [];
            } else if (selectedEkai === "basti") {
                let mandals = mappings.nagarToMandal[selectedNagar] || [];
                options = mandals.flatMap(mandal => mappings.mandalToBasti[mandal] || []);
            } else if (selectedEkai === "sakha_milan") {
                options = sakha_milan;
            }
            populateDropdown(selectedEkai, options, `${fieldToHindiMapping[selectedEkai]}`);
        }
        populateDropdown("sakha_milan", sakha_milan, `${fieldToHindiMapping["sakha_milan"]}`);
        populateDayitva(selectedEkai);
    });
    // Populate dayitva dropdown
    function populateDayitva(selectedEkai) {
        if (selectedEkai === "nagar") {
            populateDropdown("dayitva", mappings.dayitvaMapping["ekai_nagar"] || [], "दायित्व");
        } else if (selectedEkai === "sakha_milan") {
            populateDropdown("dayitva", mappings.dayitvaMapping["shakha"] || [], "दायित्व");
        } else {
            populateDropdown("dayitva", mappings.dayitvaMapping[selectedEkai] || [], "दायित्व");
        }
    }

     // Handle vividhSangathan radio buttons
     document.querySelectorAll('input[name="vividhsangathan_yes_no"]').forEach(radio => {
        radio.addEventListener("change", function () {
            const vividhSangathanDiv = document.getElementById("vividhSangathan-container");
            const referralCode = document.getElementById("referralCode");
            const selectedValue = document.querySelector('input[name="vividhsangathan_yes_no"]:checked')?.value;

            const options = ["अखिल भारतीय विद्यार्थी परिषद", "विद्याभारती", "भारतीय शिक्षण मंडल", "अखिल भारतीय शैक्षिक महासंघ", "संस्कृत भारती", "शिक्षा संस्कृति उत्थान न्यास", "वनवासी कल्याण आश्रम", "विश्व हिन्दू परिषद्", "भारतीय जनता पार्टी",
            "राष्ट्रीय सिक्ख संगत", "क्रीडा भारती", "संस्कार भारती", "सक्षम", "आरोग्य भारती", "एन्. एम्. ओ. (नैशनल मैडिकल आर्गेनाइजेशन)"
            ];

            if (selectedValue === "हाँ") {
                resetDropdowns("vividhSangathan");
                populateDropdown("vividhSangathan", options, fieldToHindiMapping["vividhSangathan"]);
                vividhSangathanDiv.style.display = "block";
                referralCode.value = "";
            } else {
                referralCode.value = "1925";
                resetDropdowns("vividhCheckbox");
                vividhSangathanDiv.style.display = "none";
                initializeSanghPart1();
            }
        });
    });
    
    document.getElementById("vividhSangathan").addEventListener("change", function () {
        resetDropdowns("vividhSangathan");
        toggleVisibility("vividhSangathan");
        const selectedValue = document.getElementById("vividhSangathan").value;
        const referralCodeField = document.getElementById("referralCode");
        if (selectedValue && sangathanToReferralCode[selectedValue]) {
            referralCodeField.value = sangathanToReferralCode[selectedValue];
        } else {
            referralCodeField.value = "0000"; 
        }
    });

    // Handle referral code change
    document.getElementById("referralCode").addEventListener("change", function () {
        resetDropdowns("referralCode");
        const referralCode = this.value.trim();
        const selectedValue = document.querySelector('input[name="vividhsangathan_yes_no"]:checked')?.value;
        if (selectedValue === "हाँ") {
            this.value = "";
        }else {
            this.value = "1925";
        }
        document.getElementById("vividhSangathan-container").style.display = selectedValue === "हाँ"  ? "block" : "none";

        const professionDropdown = document.getElementById("profession");
        const pincodeField = document.getElementById("pincode");
        pincodeField.value = "";
        const professionOptions = referralCode === "1925" ? ["स्कूल-विद्यार्थी", "कॉलेज-विद्यार्थी", "अध्यापक", "प्राध्यापक", "कर्मचारी (सरकारी)", "कर्मचारी (अन्य)", "व्यवसायी", "उद्योगपति",
            "प्रोफेशनल", "सेवा-निवृत्त", "गृहिणी", "श्रमिक", "कृषक (किसान)", "प्रचारक", "विस्तारक", "पूर्णकालिक"] : [
            "स्कूल-विद्यार्थी", "कॉलेज-विद्यार्थी", "अध्यापक", "प्राध्यापक",
            "कर्मचारी (सरकारी)", "कर्मचारी (अन्य)", "व्यवसायी", "उद्योगपति",
            "प्रोफेशनल", "सेवा-निवृत्त", "गृहिणी", "श्रमिक", "कृषक (किसान)"
        ];
        populateDropdown("profession", professionOptions, "श्रेणी");

        let matchedSangathan = Object.keys(sangathanToReferralCode).find(
            (key) => sangathanToReferralCode[key] === referralCode
        );
        if (matchedSangathan) {
            document.getElementById("vividhSangathan").value = matchedSangathan;
        } else {
            document.getElementById("vividhSangathan").innerHTML =
                '<option value="" disabled selected>विविध संगठन</option>';
            Object.keys(sangathanToReferralCode).forEach(sangathanName => {
                const option = document.createElement("option");
                option.value = sangathanName;
                option.textContent = sangathanName;
                document.getElementById("vividhSangathan").appendChild(option);
            });
        }
    });

    const cardFields = {
        card_body_1: {
            fields: {
                name: { type: 'text', required: true, pattern: /^[a-zA-Z\u0900-\u097F\s]+$/ },
                lastName: { type: 'text', required: true, pattern: /^[a-zA-Z\u0900-\u097F\s]+$/ },
                dob: { type: 'text', required: true },
                currentAddress: { type: 'text', required: true },
                permanentAddress: { type: 'text', required: true },
                address_pincode: { type: 'text', required: true, pattern: /^\d{6}$/ },
                blood_group: { type: 'select', required: true },
                profession: { type: 'select', required: true },
                nagar_address: { type: 'select', required: false },
                address_state: { type: 'select', required: false }
            },
            specialCases: {
                gender: {
                    type: 'radio',
                    required: true,
                    selector: 'input[name="gender"]:checked',
                    errorId: 'genderError',
                    errorMessage: 'Please select a gender'
                }
            }
        },
        card_body_2: {
            fields: {
                pincode: { type: 'text', required: true, pattern: /^\d{6}$/ },
                nagar: { type: 'select', required: false },
                state: { type: 'select', required: false },
                upbasti: { type: 'select', required: false },
                ekai: { type: 'select', required: false },
                dayitva: { type: 'select', required: false },
                prant: { type: 'select', required: false },
                vibhag: { type: 'select', required: false },
                jila: { type: 'select', required: false },
                ekai_nagar: { type: 'select', required: false },
                basti: { type: 'select', required: false },
                mandal: { type: 'select', required: false },
                sakha_milan: { type: 'select', required: false },
                vividhSangathan: { type: 'select', required: false }
            },
            specialCases: {
                vividhCheckbox: {
                    type: 'radio',
                    required: true,
                    selector: 'input[name="vividhsangathan_yes_no"]:checked',
                    errorId: 'vividhCheckboxError',
                    errorMessage: 'Please select an option',
                },
                sakha_milanCheckbox: {
                    type: 'radio',
                    required: true,
                    selector: 'input[name="ekai_milaan"]:checked',
                    errorId: 'sakha_milanCheckboxError',
                    errorMessage: 'Please select an option',
                },
                vividhSangathan: {
                    type: 'conditionalCheckbox',
                    checkboxSelector: 'input[name="vividhsangathan_yes_no"]:checked',
                    errorId: 'vividhCheckboxError',
                    errorMessage: 'Please select an option',
                    conditionValue: 'हाँ'
                }
            }
        },
        card_body_3: {
            fields: {
                sangh_shikshan_level: { type: 'select', required: true },
                prathmik_year: { type: 'select', required: true },
                pratham_year: { type: 'select', required: true },
                dwitiya_year: { type: 'select', required: true },
                tritiya_year: { type: 'select', required: true },
                ghosh_vadak: { type: 'radio', required: true, selector: 'input[name="ghosh_vadak"]:checked' }
            },
            specialCases: {
                pratigyaCheckbox: {
                    type: 'radio',
                    required: true,
                    selector: 'input[name="pratigya"]:checked',
                    errorId: 'pratigyaCheckboxError',
                    errorMessage: 'Please select an option',
                }
            }
        }
    };

    const cards = [];
    function validateFields(fields, specialCases = {}, cardId) {
        let valid = true;

        for (const [fieldId, config] of Object.entries(fields)) {
            const element = document.getElementById(fieldId);
            const errorElement = document.getElementById(`${fieldId}Error`);

            if (!element || element.style.display === 'none' || element.parentElement.style.display === 'none') {
                continue;
            }

            if (config.type === 'text') {
                const value = element.value.trim();
                if ((config.required || isFieldVisible(element.id)) && !value) {
                    showErrors(errorElement, 'This field is required');
                    valid = false;
                } else if (config.pattern && !config.pattern.test(value)) {
                    showErrors(errorElement, 'Please enter a valid value');
                    valid = false;
                } else {
                    hideErrors(errorElement);
                }
            } else if (config.type === 'select') {
                if ((config.required || isFieldVisible(element.id)) && (!element.value || element.value === '')) {
                    showErrors(errorElement, 'Please select an option');
                    valid = false;
                } else {
                    hideErrors(errorElement);
                }
            }
            else if (config.type === 'radio') {
                const selectedOption = document.querySelector(config.selector);
                if ((config.required || isFieldVisible(fieldId)) && !selectedOption) {
                    showErrors(errorElement, 'Please select an option');
                    valid = false;
                } else {
                    hideErrors(errorElement);
                }
            }
        }

        for (const [key, config] of Object.entries(specialCases)) {
            if (config.type === 'radio') {
                const selected = document.querySelector(config.selector);
                if (!selected && isFieldVisible(key)) {
                    showErrors(document.getElementById(config.errorId), config.errorMessage);
                    valid = false;
                } else {
                    hideErrors(document.getElementById(config.errorId));
                }
            } else if (config.type === 'conditionalSelect') {
                const checkbox = document.getElementById(config.checkboxId);
                if (checkbox && checkbox.checked) {
                    const select = document.getElementById(config.fieldId);
                    if (!select.value) {
                        showErrors(document.getElementById(config.errorId), config.errorMessage);
                        valid = false;
                    } else {
                        hideErrors(document.getElementById(config.errorId));
                    }
                }
            } else if (config.type === 'dynamicYears') {
                const container = document.getElementById(config.containerId);
                if (container.style.display !== 'none') {
                    const inputs = container.querySelectorAll(config.inputSelector);
                    inputs.forEach(input => {
                        if (!input.value) {
                            showErrors(document.getElementById(`${input.name}Error`), config.errorMessage);
                            valid = false;
                        } else {
                            hideErrors(document.getElementById(`${input.name}Error`));
                        }
                    });
                }
            } else if (config.type === 'conditionalCheckbox') {
                const radio = document.querySelector(config.radioSelector);
                if (radio && radio.value === config.conditionValue) {
                    const checkboxes = document.querySelectorAll(config.checkboxSelector);
                    const anyChecked = Array.from(checkboxes).some(cb => cb.checked);
                    if (!anyChecked) {
                        showErrors(document.getElementById(config.errorId), config.errorMessage);
                        valid = false;
                    } else {
                        hideErrors(document.getElementById(config.errorId));
                    }
                }
            }
        }

        const cardElement = document.querySelector(`#${cardId}`).parentElement;
        cardElement.classList.remove('border-success', 'border-danger');
        cardElement.classList.add(valid ? 'border-success' : 'border-danger');

        const cardHeader = cardElement.querySelector('.card-header');
        cardHeader.classList.remove('bg-success', 'bg-danger');
        if (valid) {
            cardHeader.classList.add('bg-success', 'text-white');
        }else{
            cardHeader.classList.remove('text-white');
        }

        return valid;
    }
    
    function validateForm(event) {
        event.preventDefault(); 
        let isValid = true;
        let firstInvalidCard = null;
        const cardIds = ["card_body_1", "card_body_2", "card_body_3"];

        cardIds.forEach(cardId => {
        validateFields(cardFields[cardId].fields, cardFields[cardId].specialCases, cardId);
        });
        for (const [cardId] of Object.entries(cardFields)) {
            const cardElement = document.querySelector(`#${cardId}`).parentElement;
            const isInvalid = cardElement.classList.contains('border-success');
            if (!isInvalid) {
                isValid = false;
                if (!firstInvalidCard) {
                    firstInvalidCard = cardId;
                }
                const errorMessage = document.querySelector(`#${cardId}Error`);
                showErrors(errorMessage, "Please complete all required fields in this section");
                    setTimeout(() => {
                        hideErrors(errorMessage);
                    }, 5000);
                const card = cards.find(c => c.cardId === cardId);
                if (card && card.cardBody.style.height === '0px') {
                    gsap.to(card.cardBody, {
                        height: "auto",
                        padding: "1rem",
                        opacity: 1,
                        duration: 0.8,
                        ease: "power2.inOut"
                    });
                    gsap.to(card.toggleIcon, {
                        opacity: 0,
                        duration: 0.3,
                        ease: "power2.inOut",
                        onComplete: () => {
                            card.toggleIcon.classList.remove('fa-plus');
                            card.toggleIcon.classList.add('fa-minus');
                            gsap.to(card.toggleIcon, { opacity: 1, duration: 0.15, ease: "power2.inOut" });
                        }
                    });
                }
            }
        }
        if (isValid) { 
            openModal();
        } else {
            if (firstInvalidCard) {
                const cardElement = document.querySelector(`#${firstInvalidCard}`).parentElement;
                cardElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                const errorMessage = document.querySelector(`#${firstInvalidCard}Error`);
                showErrors(errorMessage, "Please complete all required fields in this section");
            }
        }
    
        return isValid;
    }

    function showErrors(errorElement, message) {
        if (errorElement) {
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }
    }

    function hideErrors(errorElement) {
        if (errorElement) {
            errorElement.style.display = 'none';
        }
    }

    function setupCardToggle(headerSelector, bodySelector, cardId) {
        const header = document.querySelector(headerSelector);
        const cardBody = document.querySelector(bodySelector);
        const cardContainer = document.querySelector(bodySelector);
        const toggleIcon = header ? header.querySelector(".toggle-icon i") : null;
        const nextButton = cardContainer ? cardContainer.querySelector(".next-btn") : null; 
    
        cards.push({ header, cardBody, toggleIcon, cardId });
    
        if (cardId === 'card_body_1') {
            gsap.set(cardBody, { height: "auto", padding: "1rem", opacity: 1 });
            if (toggleIcon) {
                toggleIcon.classList.remove('fa-plus');
                toggleIcon.classList.add('fa-minus');
            }
            validateFields(cardFields[cardId].fields, cardFields[cardId].specialCases, cardId);
        } else {
            gsap.set(cardBody, { height: 0, padding: 0, opacity: 0 });
        }
    
        // Function to toggle a specific card
        const toggleCard = (targetCard) => {
            if (targetCard.header.classList.contains('disabled')) {
                return;
            }
            const isOpen = targetCard.cardBody.style.height && targetCard.cardBody.style.height !== '0px';
            cards.forEach(card => {
                if (card !== targetCard && card.cardBody.style.height !== '0px') {
                    gsap.to(card.cardBody, {
                        height: 0,
                        padding: 0,
                        opacity: 0,
                        duration: 0.8,
                        ease: "power2.inOut"
                    });
                    gsap.to(card.toggleIcon, {
                        opacity: 0,
                        duration: 0.15,
                        ease: "power2.inOut",
                        onComplete: () => {
                            card.toggleIcon.classList.remove('fa-minus');
                            card.toggleIcon.classList.add('fa-plus');
                            gsap.to(card.toggleIcon, { opacity: 1, duration: 0.15, ease: "power2.inOut" });
                        }
                    });
                }
            });
            if (isOpen) {
                gsap.to(targetCard.cardBody, {
                    height: 0,
                    padding: 0,
                    opacity: 0,
                    duration: 0.8,
                    ease: "power2.inOut"
                });
                gsap.to(targetCard.toggleIcon, {
                    opacity: 0,
                    duration: 0.3,
                    ease: "power2.inOut",
                    onComplete: () => {
                        targetCard.toggleIcon.classList.remove('fa-minus');
                        targetCard.toggleIcon.classList.add('fa-plus');
                        gsap.to(targetCard.toggleIcon, { opacity: 1, duration: 0.15, ease: "power2.inOut" });
                    }
                });
            } else {
                gsap.to(targetCard.cardBody, {
                    height: "auto",
                    padding: "1rem",
                    opacity: 1,
                    duration: 0.8,
                    ease: "power2.inOut"
                });
                gsap.to(targetCard.toggleIcon, {
                    opacity: 0,
                    duration: 0.3,
                    ease: "power2.inOut",
                    onComplete: () => {
                        targetCard.toggleIcon.classList.remove('fa-plus');
                        targetCard.toggleIcon.classList.add('fa-minus');
                        gsap.to(targetCard.toggleIcon, { opacity: 1, duration: 0.15, ease: "power2.inOut" });
                    }
                });
            }
            validateFields(cardFields[targetCard.cardId].fields, cardFields[targetCard.cardId].specialCases, targetCard.cardId);
        };
    
        // Header click event
        header.addEventListener('click', () => {
            const currentCard = cards.find(card => card.header === header);
            if ((!header.classList.contains('disabled'))) {
                toggleCard(currentCard);
            } 
        });
        if (nextButton) {
            nextButton.addEventListener('click', (e) => {
                e.preventDefault(); 
                const currentOpenCard = cards.find(card => card.cardBody.style.height && card.cardBody.style.height !== '0px');
                const currentIndex = currentOpenCard ? cards.indexOf(currentOpenCard) : -1;
                const nextIndex = currentIndex + 1 < cards.length ? currentIndex + 1 : 0; 
                const nextCard = cards[nextIndex];
    
                const isValid = validateFields(cardFields[currentOpenCard.cardId].fields, cardFields[currentOpenCard.cardId].specialCases, currentOpenCard.cardId);

                if (isValid && nextCard) {
                    nextCard.header.classList.remove('disabled');
                    toggleCard(currentOpenCard);
                    toggleCard(nextCard);
                }
            });
        }
    }
    document.querySelectorAll('.card-header[data-toggle-target]').forEach(header => {
        const bodyId = header.getAttribute('data-toggle-target');
        const cardId = bodyId; 
        setupCardToggle(`[data-toggle-target="${bodyId}"]`, `#${bodyId}`, cardId);

    });

    //address 
    const sameAddressCheckbox = document.getElementById("sameAddress");
    const permanentAddress = document.getElementById("permanentAddress");
    const currentAddress = document.getElementById("currentAddress");
    const permanentAddressContainer = document.getElementById("permanentAddress-container");
    function syncAddress() {
        permanentAddress.value = currentAddress.value;
    }
    function handleSameAddressChange() {
        const isChecked = sameAddressCheckbox.checked;
        permanentAddress.value = isChecked ? currentAddress.value : "";
        permanentAddress.toggleAttribute("readonly", isChecked);
        permanentAddressContainer.style.display = isChecked ? "none" : "block";
        permanentAddress.dispatchEvent(new Event("input"));

        if (isChecked) {
            currentAddress.addEventListener("input", syncAddress);
        } else {
            currentAddress.removeEventListener("input", syncAddress);
        }
    }
    handleSameAddressChange();
    sameAddressCheckbox.addEventListener("change", handleSameAddressChange);

    // Function to copy address as user types
    function syncAddress() {
        document.getElementById("permanentAddress").value = document.getElementById("currentAddress").value;
    }

    // Name Validation: Only Letters Allowed (No Spaces, Digits, or Special Characters)
    function setupNameValidation(fieldId, errorId) {
    const field = document.getElementById(fieldId);
    if (!field) return;

        field.addEventListener("input", function () {
            this.value = this.value.replace(/[^A-Za-z]/g, "");
            if (this.value) {
                hideError(errorId);
            } else {
                showError(errorId, "Only letters are allowed.");
            }
        });
    }
    setupNameValidation("name", "name");
    setupNameValidation("lastName", "lastName");

    // Function to validate pincode fields
    function validatePincode(event) {
        let pincodeField = event.target;
        let errorElement = document.getElementById(pincodeField.id + "Error");

        pincodeField.value = pincodeField.value.replace(/\D/g, "").slice(0, 6);

        if (this.value.length === 6) {
            hideError(pincodeField.id);
        } else {
            showError(pincodeField.id, "Pincode must be exactly 6 digits.");
        }
        toggleVisibility(pincodeField.id);
    }

    // Attach validation to both pincode fields
    document.getElementById("pincode").addEventListener("input", validatePincode);
    document.getElementById("address_pincode").addEventListener("input", validatePincode);

    // Function to check if a field is visible
    function isFieldVisible(fieldId) {
        const field = document.getElementById(`${fieldId}-container`);
        return field && field.style.display !== "none";
    }

    // Function to display error messages
    function showError(fieldId, message) {
        const errorElement = document.getElementById(`${fieldId}Error`);
        if (errorElement) {
            errorElement.textContent = message;
            errorElement.style.display = "block";
        }
    }

    // Function to hide error messages
    function hideError(fieldId) {
        const errorElement = document.getElementById(`${fieldId}Error`);
        if (errorElement) {
            errorElement.textContent = "";
            errorElement.style.display = "none";
        }
    }


    // Attach the validation function to the form's submit event
    const form = document.getElementById("myForm");
    if (form) {
        form.addEventListener("submit", validateForm);
    }

    // ✅ Add real-time error hiding
    function addRealTimeValidation(fieldId, eventType = "input") {
        const field = document.getElementById(fieldId);
        if (field) {
            field.addEventListener(eventType, function () {
                if (field.value.trim()) {
                    hideError(fieldId);
                }
            });
        }
    }

    // ✅ Apply real-time validation to text fields
    const realTimeTextFields = ["referralCode", "name", "dob", "currentAddress", "permanentAddress", "pincode", "address_pincode"];
    realTimeTextFields.forEach((fieldId) => addRealTimeValidation(fieldId));

    // ✅ Apply real-time validation to dropdowns
    const realTimeSelectFields = ["blood_group", "profession", "address_nagar", "nagar", "address_state", "state", "upbasti", "ekai", "prant", "vibhag", "jila", "ekai_nagar", "mandal", "basti", "sakha_milan", "dayitva", "vividhSangathan",
        "sangh_shikshan_level", "prarambhik_year", "pratham_year", "prathmik_year", "dwitiya_year", "tritiya_year"
    ];
    realTimeSelectFields.forEach((fieldId) => {
        const field = document.getElementById(fieldId);
        if (field) {
            field.addEventListener("change", function () {
                if (field.value) {
                    hideError(fieldId);
                }
            });
        }
    });



    //  Real-time validation for gender selection
    document.querySelectorAll('input[name="gender"]').forEach((radio) => {
        radio.addEventListener("change", function () {
            hideError("gender");
        });
    });
    document.querySelectorAll('input[name="pratigya"]').forEach((radio) => {
        radio.addEventListener("change", function () {
            hideError("pratigyaCheckbox");
        });
    });
    document.querySelectorAll('input[name="vividhsangathan_yes_no"]').forEach((radio) => {
        radio.addEventListener("change", function () {
            hideError("vividhCheckbox");
        });
    });
    document.querySelectorAll('input[name="ekai_milaan"]').forEach((radio) => {
        radio.addEventListener("change", function () {
            hideError("sakha_milanCheckbox");
        });
    });

    // Function to open the modal and populate it with form data
    function openModal() {
        const modal = document.getElementById('formModal');
        modal.style.display = 'flex';   
        function setModalContent(fieldId, modalElementId, modalContainerId) {
            const field = document.getElementById(fieldId);
            const modalContainer = document.getElementById(modalContainerId);
            if (isFieldVisible(fieldId)) {
                modalContainer.style.display = 'table-row'; 
                document.getElementById(modalElementId).textContent = field.value || 'N/A';
            } else {
                modalContainer.style.display = 'none'; 
            }
        }

        function setRadioModalContent(radioId,radioName, modalElementId, modalContainerId) {
            const radioField = document.querySelector(`input[name="${radioName}"]:checked`);
            const modalContainer = document.getElementById(modalContainerId);
            
            if (radioField && isFieldVisible(radioId)) {
                modalContainer.style.display = 'table-row'; 
                document.getElementById(modalElementId).textContent = radioField.value;
            } else {
                modalContainer.style.display = 'none'; 
            }
        }

        function setIndividualCheckboxContent(checkboxId, modalElementId, modalContainerId) {
            const checkbox = document.getElementById(checkboxId);
            const modalContainer = document.getElementById(modalContainerId);
            if (checkbox && isFieldVisible(checkboxId)) {
                modalContainer.style.display = 'table-row';
                document.getElementById(modalElementId).textContent = checkbox.value;
            } else {
                modalContainer.style.display = 'none';
            }
        }

        setModalContent('referralCode', 'modalReferralCode', 'modalReferralCodeContainer');
        setModalContent('name', 'modalName', 'modalNameContainer');
        setModalContent('lastName', 'modalLastName', 'modalLastNameContainer');
        setModalContent('dob', 'modalDOB', 'modalDOBContainer');
        setModalContent('blood_group', 'modalBloodGroup', 'modalBloodGroupContainer');
        setModalContent('profession', 'modalProfession', 'modalProfessionContainer');
        setModalContent('currentAddress', 'modalCurrentAddress', 'modalCurrentAddressContainer');
        setModalContent('permanentAddress', 'modalPermanentAddress', 'modalPermanentAddressContainer');
        setModalContent('address_pincode', 'modalAddressPincode', 'modalAddressPincodeContainer');
        setModalContent('address_nagar', 'modalAddressNagar', 'modalAddressNagarContainer');
        setModalContent('address_state', 'modalAddressState', 'modalAddressStateContainer');
        setModalContent('professionals_name', 'modalProfessionType', 'modalProfessionTypeContainer');
        setModalContent('sub_category_type', 'modalProfessionSubtype', 'modalProfessionSubtypeContainer');
        setModalContent('university', 'modalUniversity', 'modalUniversityContainer');
        setModalContent('institute', 'modalInstitute', 'modalInstituteContainer');
        setModalContent('course', 'modalCourse', 'modalCourseContainer');
        setModalContent('stream', 'modalStream', 'modalStreamContainer');
        setRadioModalContent("vividhCheckbox",'vividhsangathan_yes_no', 'modalVividhSangathanCheckbox', 'modalVividhSangathanCheckboxContainer');
        setModalContent('vividhSangathan', 'modalVividhSangathan', 'modalVividhSangathanContainer');
        setModalContent('pincode', 'modalPincode', 'modalPincodeContainer');
        setModalContent('nagar', 'modalNagar', 'modalNagarContainer');
        setModalContent('state', 'modalState', 'modalStateContainer');
        setModalContent('upbasti', 'modalUpbasti', 'modalUpbastiContainer');
        setModalContent('ekai', 'modalEkai', 'modalEkaiContainer');
        setModalContent('prant', 'modalPrant', 'modalPrantContainer');
        setModalContent('vibhag', 'modalVibhag', 'modalVibhagContainer');
        setModalContent('jila', 'modalJila', 'modalJilaContainer');
        setModalContent('ekai_nagar', 'modalEkaiNagar', 'modalEkaiNagarContainer');
        setModalContent('mandal', 'modalMandal', 'modalMandalContainer');
        setModalContent('basti', 'modalBasti', 'modalBastiContainer');
        setRadioModalContent("sakha_milanCheckbox",'ekai_milaan', 'modalSakhaMilanCheckbox', 'modalSakhaMilanCheckboxContainer');
        setModalContent('sakha_milan', 'modalSakhaMilan', 'modalSakhaMilanContainer');
        setModalContent('dayitva', 'modalDayitva', 'modalDayitvaContainer');
        setModalContent('sangh_shikshan_level', 'modalSanghSikshanLevel', 'modalSanghSikshanLevelContainer');
        setRadioModalContent('pratigyaCheckbox','pratigya', 'modalPratigyaCheckbox', 'modalPratigyaCheckboxContainer');
        setModalContent('prarambhik_year', 'modalPrarambhikYear', 'modalPrarambhikYearContainer');
        setModalContent('prathmik_year', 'modalPrathmikYear', 'modalPrathmikYearContainer');
        setModalContent('pratham_year', 'modalPrathamYear', 'modalPrathamYearContainer');
        setModalContent('dwitiya_year', 'modalDwitiyaYear', 'modalDwitiyaYearContainer');
        setModalContent('tritiya_year', 'modalTritiyaYear', 'modalTritiyaYearContainer');
        setRadioModalContent("ghoshVadakNo",'learn_vadya', 'modalLearnVadya', 'modalLearnVadyaContainer');
        setRadioModalContent("ghoshVadakNo",'learn_vadya_list', 'modalLearnVadyaList', 'modalLearnVadyaListContainer');
        setIndividualCheckboxContent('sanghPant', 'modalSanghPant', 'modalSanghPantContainer');
        setIndividualCheckboxContent('safedKameez', 'modalSafedKameez', 'modalSafedKameezContainer');
        setIndividualCheckboxContent('sanghTopi', 'modalSanghTopi', 'modalSanghTopiContainer');
        setIndividualCheckboxContent('sanghPeti', 'modalSanghPeti', 'modalSanghPetiContainer');
        setIndividualCheckboxContent('jurab', 'modalJurab', 'modalJurabContainer');
        setIndividualCheckboxContent('joote', 'modalJoote', 'modalJooteContainer');
        setIndividualCheckboxContent('dand', 'modalDand', 'modalDandContainer');
        setRadioModalContent("gender",'gender', 'modalGender', 'modalGenderContainer');
        setRadioModalContent("ghosh_vadak",'ghosh_vadak', 'modalGhoshVadak', 'modalGhoshVadakContainer');
        if (document.querySelector('input[name="ghosh_vadak"]:checked')?.value === 'हाँ') {
            setIndividualCheckboxContent('shankh', 'modalShankh', 'modalShankhContainer');
            setIndividualCheckboxContent('shrung', 'modalShrung', 'modalShrungContainer');
            setIndividualCheckboxContent('turya', 'modalTurya', 'modalTuryaContainer');
            setIndividualCheckboxContent('swarad', 'modalSwarad', 'modalSwaradContainer');
            setIndividualCheckboxContent('nagang', 'modalNagang', 'modalNagangContainer');
            setIndividualCheckboxContent('gomukh', 'modalGomukh', 'modalGomukhContainer');
            setIndividualCheckboxContent('other', 'modalOther', 'modalOtherContainer');
            setIndividualCheckboxContent('aanak', 'modalAanak', 'modalAanakContainer');
            setIndividualCheckboxContent('panav', 'modalPanav', 'modalPanavContainer');
            setIndividualCheckboxContent('jhallari', 'modalJhallari', 'modalJhallariContainer');
            setIndividualCheckboxContent('tribhuj', 'modalTribhuj', 'modalTribhujContainer');
            setRadioModalContent("shankhShrungOwn",'shankh_shrung_own', 'modalShankhShrungOwn', 'modalShankhShrungOwnContainer');
            setRadioModalContent("rachnaye",'rachnaye', 'modalRachnaye', 'modalRachnayeContainer');
        } else {
            document.getElementById('modalShankhContainer').style.display = 'none';
            document.getElementById('modalShrungContainer').style.display = 'none';
            document.getElementById('modalTuryaContainer').style.display = 'none';
            document.getElementById('modalSwaradContainer').style.display = 'none';
            document.getElementById('modalNagangContainer').style.display = 'none';
            document.getElementById('modalGomukhContainer').style.display = 'none';
            document.getElementById('modalOtherContainer').style.display = 'none';
            document.getElementById('modalAanakContainer').style.display = 'none';
            document.getElementById('modalPanavContainer').style.display = 'none';
            document.getElementById('modalJhallariContainer').style.display = 'none';
            document.getElementById('modalTribhujContainer').style.display = 'none';
            document.getElementById('modalShankhShrungOwnContainer').style.display = 'none';
            document.getElementById('modalRachnayeContainer').style.display = 'none';
        }
    }
    function isFieldVisible(fieldId) {
        let field = document.getElementById(`${fieldId}-container`);
        return field && field.style.display !== "none";
    }
    
    document.querySelector(".class-modal").addEventListener('click', function () {
        document.getElementById("formModal").style.display = "none";
    })

    document.getElementById('finalSubmit').addEventListener('click', function (event) {
        event.preventDefault();

        Swal.fire({
            title: '!!..धन्यवाद..!!',
            html: 'आपने अपना पंजीकरण सफलतापूर्वक पूर्ण कर लिया है। <br>आपके "QR Code" की जानकारी दिए गए 👉 "SBRPLR SMS Code" 👈 द्वारा आपको शीघ्र भेजी जाएगी।',
            icon: 'success',
            confirmButtonText: 'ठीक है'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('myForm').submit();
            }
        });
    });
});

   </script>
   <script type="text/javascript">
      history.pushState(null, null, window.location.href);
      window.addEventListener('popstate', function () {
      history.pushState(null, null, window.location.href);
      });
   </script>

   <script type="text/javascript">
   </script>
</body>

</html>